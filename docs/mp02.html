<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>mp2 – STA 9750 2024 Submission Material</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.33/datatables.js"></script><script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script><link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script><script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>
</head>
<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STA 9750 2024 Submission Material</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">mp2</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><section id="i.introduction" class="level3"><h3 class="anchored" data-anchor-id="i.introduction">I.Introduction</h3>
<p>Hollywood has often used familiar strategies to attract audiences, like making movies based on real-life stories, adapting books or games, or working with popular intellectual properties. However, in recent years, movie theaters have seen fewer big box office hits, and audiences aren’t flocking to see the latest films as they used to.</p>
<p>This project aims to find new movie ideas by analyzing data from <a href="https://datasets.imdbws.com/">the IMDb non-commercial release</a>. By looking at what made past movies successful, identifying top actors and directors,popular genres.. we hope to give Hollywood executives useful insights for creating movies that can draw audiences back to theaters.</p>
</section><section id="ii.data-preparation" class="level3"><h3 class="anchored" data-anchor-id="ii.data-preparation">II.Data Preparation</h3>
<p>The following packages are used for this analysis: <code>dplyr</code>, <code>tidyr</code>, <code>DT</code>, <code>ggplot2</code> and <code>tidyverse</code>,<code>gganimate</code> , <code>scales</code>. If these packages have not been installed in the system, they can be with the following code:</p>
<section id="loading-required-libraries" class="level4"><h4 class="anchored" data-anchor-id="loading-required-libraries">1.Loading Required Libraries</h4>
<p>To begin, we load the necessary R libraries, primarily using the <code>tidyverse</code> package for data wrangling and <code>DT</code> for data visualization.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org">"ggplot2"</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"ggplot2"</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="st"><a href="https://tidyverse.tidyverse.org">"tidyverse"</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="st"><a href="https://github.com/rstudio/DT">"DT"</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"DT"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/DT">DT</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>I have also created a function for interactive table creation</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">table_creation</span><span class="op">&lt;-</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="va">x</span>, </span>
<span>            options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>              searching <span class="op">=</span> <span class="cn">FALSE</span>,   <span class="co"># Removes the search bar</span></span>
<span>              pageLength <span class="op">=</span> <span class="fl">10</span>,      <span class="co"># Optional: Set the number of rows displayed per page</span></span>
<span>              lengthChange <span class="op">=</span> <span class="cn">FALSE</span>,<span class="co"># Removes the option to change the number of rows displayed</span></span>
<span>              dom <span class="op">=</span> <span class="st">'t'</span></span>
<span>            <span class="op">)</span>,</span>
<span>            filter <span class="op">=</span> <span class="st">'none'</span></span>
<span>  <span class="op">)</span>  </span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="data-loading" class="level4"><h4 class="anchored" data-anchor-id="data-loading">2.Data Loading</h4>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">get_imdb_file</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">fname</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="va">BASE_URL</span> <span class="op">&lt;-</span> <span class="st">"https://datasets.imdbws.com/"</span></span>
<span>    <span class="va">fname_ext</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">fname</span>, <span class="st">".tsv.gz"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files.html">file.exists</a></span><span class="op">(</span><span class="va">fname_ext</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>        <span class="va">FILE_URL</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">BASE_URL</span>, <span class="va">fname_ext</span><span class="op">)</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/utils/download.file.html">download.file</a></span><span class="op">(</span><span class="va">FILE_URL</span>, </span>
<span>                      destfile <span class="op">=</span> <span class="va">fname_ext</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_tsv</a></span><span class="op">(</span><span class="va">fname_ext</span>, lazy<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-show_col_types="false">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">NAME_BASICS</span> <span class="op">&lt;-</span> <span class="fu">get_imdb_file</span><span class="op">(</span><span class="st">"name.basics"</span><span class="op">)</span></span>
<span><span class="co">#write.csv(NAME_BASICS, "~/STA9750-2024-FALL/NAME_BASICS.csv",row.names=TRUE,col.names = TRUE )</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-show_col_types="false">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">TITLE_BASICS</span><span class="op">&lt;-</span> <span class="fu">get_imdb_file</span><span class="op">(</span><span class="st">"title.basics"</span><span class="op">)</span></span>
<span><span class="co">#write.csv(TITLE_BASICS, "~/STA9750-2024-FALL/TITLE_BASICS.csv",row.names=TRUE,col.names = TRUE )</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">TITLE_EPISODES</span>   <span class="op">&lt;-</span> <span class="fu">get_imdb_file</span><span class="op">(</span><span class="st">"title.episode"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">TITLE_EPISODES</span>, <span class="st">"~/STA9750-2024-FALL/TITLE_EPISODES.csv"</span>,row.names<span class="op">=</span><span class="cn">TRUE</span>,col.names <span class="op">=</span> <span class="cn">TRUE</span> <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">TITLE_RATINGS</span>    <span class="op">&lt;-</span> <span class="fu">get_imdb_file</span><span class="op">(</span><span class="st">"title.ratings"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-show_col_types="false">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">TITLE_CREW</span>       <span class="op">&lt;-</span> <span class="fu">get_imdb_file</span><span class="op">(</span><span class="st">"title.crew"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">TITLE_PRINCIPALS</span> <span class="op">&lt;-</span> <span class="fu">get_imdb_file</span><span class="op">(</span><span class="st">"title.principals"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="data-sub-sampling" class="level4"><h4 class="anchored" data-anchor-id="data-sub-sampling">3.Data Sub-Sampling</h4>
<p>For our NAME_BASICS table, we’ll restrict our attention to people with at least two “known for” credits.</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">NAME_BASICS</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 3,180,842
Columns: 7
$ X                 &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 1…
$ nconst            &lt;chr&gt; "nm0000001", "nm0000002", "nm0000003", "nm0000004", …
$ primaryName       &lt;chr&gt; "Fred Astaire", "Lauren Bacall", "Brigitte Bardot", …
$ birthYear         &lt;int&gt; 1899, 1924, 1934, 1949, 1918, 1915, 1899, 1924, 1925…
$ deathYear         &lt;int&gt; 1987, 2014, NA, 1982, 2007, 1982, 1957, 2004, 1984, …
$ primaryProfession &lt;chr&gt; "actor,miscellaneous,producer", "actress,soundtrack,…
$ knownForTitles    &lt;chr&gt; "tt0072308,tt0050419,tt0053137,tt0027125", "tt003738…</code></pre>
</div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">NAME_BASICS</span> <span class="op">&lt;-</span> <span class="va">NAME_BASICS</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_count.html">str_count</a></span><span class="op">(</span><span class="va">knownForTitles</span>, <span class="st">","</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">TITLE_RATINGS</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">numVotes</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>bins<span class="op">=</span><span class="fl">30</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Number of IMDB Ratings"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Number of Titles"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Majority of IMDB Titles Have Less than 100 Ratings"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_log10</a></span><span class="op">(</span>label<span class="op">=</span><span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/comma.html">comma</a></span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>label<span class="op">=</span><span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/comma.html">comma</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><img src="mp02_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">TITLE_RATINGS</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">numVotes</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>     0%     25%     50%     75%    100% 
      5      11      26     101 2945751 </code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">TITLE_RATINGS</span> <span class="op">&lt;-</span> <span class="va">TITLE_RATINGS</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">numVotes</span> <span class="op">&gt;=</span> <span class="fl">100</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">NAME_BASICS</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Rows: 3,180,842
Columns: 7
$ X                 &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 1…
$ nconst            &lt;chr&gt; "nm0000001", "nm0000002", "nm0000003", "nm0000004", …
$ primaryName       &lt;chr&gt; "Fred Astaire", "Lauren Bacall", "Brigitte Bardot", …
$ birthYear         &lt;int&gt; 1899, 1924, 1934, 1949, 1918, 1915, 1899, 1924, 1925…
$ deathYear         &lt;int&gt; 1987, 2014, NA, 1982, 2007, 1982, 1957, 2004, 1984, …
$ primaryProfession &lt;chr&gt; "actor,miscellaneous,producer", "actress,soundtrack,…
$ knownForTitles    &lt;chr&gt; "tt0072308,tt0050419,tt0053137,tt0027125", "tt003738…</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">TITLE_BASICS</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Rows: 837,371
Columns: 11
$ X              &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, …
$ tconst         &lt;chr&gt; "tt0000001", "tt0000001", "tt0000002", "tt0000002", "tt…
$ titleType      &lt;chr&gt; "short", "short", "short", "short", "short", "short", "…
$ primaryTitle   &lt;chr&gt; "Carmencita", "Carmencita", "Le clown et ses chiens", "…
$ originalTitle  &lt;chr&gt; "Carmencita", "Carmencita", "Le clown et ses chiens", "…
$ isAdult        &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
$ startYear      &lt;int&gt; 1894, 1894, 1892, 1892, 1892, 1892, 1892, 1892, 1892, 1…
$ endYear        &lt;chr&gt; "\\N", "\\N", "\\N", "\\N", "\\N", "\\N", "\\N", "\\N",…
$ runtimeMinutes &lt;chr&gt; "1", "1", "5", "5", "5", "5", "5", "12", "12", "1", "1"…
$ genres         &lt;chr&gt; "Documentary", "Short", "Animation", "Short", "Animatio…
$ genre_cleaned  &lt;chr&gt; "Documentary", "Others", "Animation", "Others", "Animat…</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">TITLE_BASICS</span> <span class="op">&lt;-</span> <span class="va">TITLE_BASICS</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter-joins.html">semi_join</a></span><span class="op">(</span><span class="va">TITLE_RATINGS</span>, </span>
<span>              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/join_by.html">join_by</a></span><span class="op">(</span><span class="va">tconst</span> <span class="op">==</span> <span class="va">tconst</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">TITLE_CREW</span> <span class="op">&lt;-</span> <span class="va">TITLE_CREW</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter-joins.html">semi_join</a></span><span class="op">(</span><span class="va">TITLE_RATINGS</span>, </span>
<span>              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/join_by.html">join_by</a></span><span class="op">(</span><span class="va">tconst</span> <span class="op">==</span> <span class="va">tconst</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">TITLE_EPISODES_1</span> <span class="op">&lt;-</span> <span class="va">TITLE_EPISODES</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter-joins.html">semi_join</a></span><span class="op">(</span><span class="va">TITLE_RATINGS</span>, </span>
<span>              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/join_by.html">join_by</a></span><span class="op">(</span><span class="va">tconst</span> <span class="op">==</span> <span class="va">tconst</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">TITLE_EPISODES_2</span> <span class="op">&lt;-</span> <span class="va">TITLE_EPISODES</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter-joins.html">semi_join</a></span><span class="op">(</span><span class="va">TITLE_RATINGS</span>, </span>
<span>              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/join_by.html">join_by</a></span><span class="op">(</span><span class="va">parentTconst</span> <span class="op">==</span> <span class="va">tconst</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">TITLE_EPISODES</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html">bind_rows</a></span><span class="op">(</span><span class="va">TITLE_EPISODES_1</span>,</span>
<span>                            <span class="va">TITLE_EPISODES_2</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">TITLE_PRINCIPALS1</span> <span class="op">&lt;-</span> <span class="va">TITLE_PRINCIPALS1</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter-joins.html">semi_join</a></span><span class="op">(</span><span class="va">TITLE_RATINGS</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/join_by.html">join_by</a></span><span class="op">(</span><span class="va">tconst</span> <span class="op">==</span> <span class="va">tconst</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section></section><section id="iii.-initial-exploration" class="level3"><h3 class="anchored" data-anchor-id="iii.-initial-exploration">III. Initial Exploration</h3>
<div class="callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Task 1: Column Type Correction
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<p>Correct the column types of the TITLE tables using a combination of mutate and the coercion functions as.numeric and as.logical..</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">TITLE_BASICS</span> <span class="op">&lt;-</span> <span class="va">TITLE_BASICS</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>startYear <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">startYear</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">TITLE_BASICS</span><span class="op">&lt;-</span><span class="va">TITLE_BASICS</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/separate_longer_delim.html">separate_longer_delim</a></span><span class="op">(</span><span class="va">genres</span>, <span class="st">","</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">TITLE_BASICS</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Rows: 837,371
Columns: 11
$ X              &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, …
$ tconst         &lt;chr&gt; "tt0000001", "tt0000001", "tt0000002", "tt0000002", "tt…
$ titleType      &lt;chr&gt; "short", "short", "short", "short", "short", "short", "…
$ primaryTitle   &lt;chr&gt; "Carmencita", "Carmencita", "Le clown et ses chiens", "…
$ originalTitle  &lt;chr&gt; "Carmencita", "Carmencita", "Le clown et ses chiens", "…
$ isAdult        &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
$ startYear      &lt;dbl&gt; 1894, 1894, 1892, 1892, 1892, 1892, 1892, 1892, 1892, 1…
$ endYear        &lt;chr&gt; "\\N", "\\N", "\\N", "\\N", "\\N", "\\N", "\\N", "\\N",…
$ runtimeMinutes &lt;chr&gt; "1", "1", "5", "5", "5", "5", "5", "12", "12", "1", "1"…
$ genres         &lt;chr&gt; "Documentary", "Short", "Animation", "Short", "Animatio…
$ genre_cleaned  &lt;chr&gt; "Documentary", "Others", "Animation", "Others", "Animat…</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">relevant_genres</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Action"</span>, <span class="st">"Comedy"</span>, <span class="st">"Drama"</span>, <span class="st">"Horror"</span>, <span class="st">"Romance"</span>, <span class="st">"Thriller"</span>, <span class="st">"Adventure"</span>, <span class="st">"Animation"</span>, <span class="st">"Biography"</span>, <span class="st">"Crime"</span>, <span class="st">"Documentary"</span>,<span class="st">"Musical"</span>,<span class="st">"Romance"</span>,<span class="st">"Sci-Fi"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">TITLE_BASICS</span> <span class="op">&lt;-</span> <span class="va">TITLE_BASICS</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>genre_cleaned <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span><span class="op">(</span></span>
<span>    <span class="va">genres</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">relevant_genres</span> <span class="op">~</span> <span class="va">genres</span>,</span>
<span>    <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"Others"</span>  <span class="co"># Assign "Others" to all non-relevant genres</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">NAME_BASICS</span> <span class="op">&lt;-</span> <span class="va">NAME_BASICS</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>birthYear <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">birthYear</span><span class="op">)</span>,</span>
<span>           deathYear <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">deathYear</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">NAME_BASICS</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Rows: 3,180,842
Columns: 7
$ X                 &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 1…
$ nconst            &lt;chr&gt; "nm0000001", "nm0000002", "nm0000003", "nm0000004", …
$ primaryName       &lt;chr&gt; "Fred Astaire", "Lauren Bacall", "Brigitte Bardot", …
$ birthYear         &lt;dbl&gt; 1899, 1924, 1934, 1949, 1918, 1915, 1899, 1924, 1925…
$ deathYear         &lt;dbl&gt; 1987, 2014, NA, 1982, 2007, 1982, 1957, 2004, 1984, …
$ primaryProfession &lt;chr&gt; "actor,miscellaneous,producer", "actress,soundtrack,…
$ knownForTitles    &lt;chr&gt; "tt0072308,tt0050419,tt0053137,tt0027125", "tt003738…</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">TITLE_CREW</span><span class="op">&lt;-</span><span class="va">TITLE_CREW</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/separate_longer_delim.html">separate_longer_delim</a></span><span class="op">(</span><span class="va">directors</span>, <span class="st">","</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">TITLE_CREW</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Rows: 550,846
Columns: 4
$ X         &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 1…
$ tconst    &lt;chr&gt; "tt0000001", "tt0000002", "tt0000003", "tt0000004", "tt00000…
$ directors &lt;chr&gt; "nm0005690", "nm0721526", "nm0721526", "nm0721526", "nm00056…
$ writers   &lt;chr&gt; "\\N", "\\N", "\\N", "\\N", "\\N", "\\N", "\\N", "\\N", "\\N…</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">TITLE_EPISODES</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Rows: 3,012,210
Columns: 5
$ X             &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 1…
$ tconst        &lt;chr&gt; "tt0045960", "tt0046855", "tt0048378", "tt0048562", "tt0…
$ parentTconst  &lt;chr&gt; "tt0044284", "tt0046643", "tt0047702", "tt0047768", "tt0…
$ seasonNumber  &lt;int&gt; 2, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 1, 8, 1, 10, 6, 2, 8, 4…
$ episodeNumber &lt;int&gt; 3, 4, 6, 10, 4, 20, 5, 2, 20, 6, 2, 3, 2, 10, 17, 5, 1, …</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">TITLE_EPISODES</span><span class="op">&lt;-</span><span class="va">TITLE_EPISODES</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>            seasonNumber<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">seasonNumber</span><span class="op">)</span>,</span>
<span>           episodeNumber<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">episodeNumber</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">TITLE_PRINCIPALS1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Rows: 6,598,225
Columns: 7
$ X          &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, …
$ tconst     &lt;chr&gt; "tt0000001", "tt0000001", "tt0000001", "tt0000001", "tt0000…
$ ordering   &lt;int&gt; 1, 2, 3, 4, 1, 2, 1, 2, 3, 4, 5, 1, 2, 1, 2, 3, 1, 2, 3, 4,…
$ nconst     &lt;chr&gt; "nm1588970", "nm0005690", "nm0005690", "nm0374658", "nm0721…
$ category   &lt;chr&gt; "self", "director", "producer", "cinematographer", "directo…
$ job        &lt;chr&gt; "\\N", "\\N", "producer", "director of photography", "\\N",…
$ characters &lt;chr&gt; "[\"Self\"]", "\\N", "\\N", "\\N", "\\N", "\\N", "\\N", "\\…</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb34"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">TITLE_RATINGS</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Rows: 372,896
Columns: 4
$ X             &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 1…
$ tconst        &lt;chr&gt; "tt0000001", "tt0000002", "tt0000003", "tt0000004", "tt0…
$ averageRating &lt;dbl&gt; 5.7, 5.6, 6.5, 5.4, 6.2, 5.0, 5.4, 5.4, 5.4, 6.8, 5.2, 7…
$ numVotes      &lt;int&gt; 2088, 282, 2095, 183, 2831, 195, 888, 2235, 213, 7705, 3…</code></pre>
</div>
</div>
<div class="callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Task 2: Instructor-Provided Questions
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<blockquote class="blockquote">
<p>1.How many movies are in our data set? How many TV series? How many TV episodes?</p>
</blockquote>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb36"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">TITLE_BASICS</span><span class="op">$</span><span class="va">titleType</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>
       movie        short    tvEpisode tvMiniSeries      tvMovie     tvSeries 
      266029        39986       394516        12413        29156        60368 
     tvShort    tvSpecial        video    videoGame 
        1052         4388        17491        11972 </code></pre>
</div>
</div>
<p>I write a function<code>count_title</code> to identify the project type and count.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb38"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">count_title</span><span class="op">&lt;-</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">word</span><span class="op">&lt;-</span><span class="va">x</span></span>
<span>  <span class="va">count</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grepl</a></span><span class="op">(</span><span class="va">word</span>,<span class="va">TITLE_BASICS</span><span class="op">$</span><span class="va">titleType</span>,ignore.case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span>                        </span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb39"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">movie_count</span><span class="op">&lt;-</span><span class="fu">count_title</span><span class="op">(</span><span class="st">"movie"</span><span class="op">)</span></span>
<span><span class="va">series_count</span><span class="op">&lt;-</span><span class="fu">count_title</span><span class="op">(</span><span class="st">"series"</span><span class="op">)</span></span>
<span><span class="va">episode_count</span><span class="op">&lt;-</span><span class="fu">count_title</span><span class="op">(</span><span class="st">"episode"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"There are "</span>, <span class="va">movie_count</span>, <span class="st">" movies, "</span>, <span class="va">series_count</span>, <span class="st">" series and "</span>, <span class="va">episode_count</span>, <span class="st">" episodes in the TITLE_BASICS dataset."</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "There are 295185 movies, 72781 series and 394516 episodes in the TITLE_BASICS dataset."</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>2.Who is the oldest living person in our data set?</p>
</blockquote>
<p>According to <a href="https://en.wikipedia.org/wiki/List_of_oldest_living_people">wikipedia</a>, the oldest person alive in the world is of 1908 onwards. Hence, I keep checked for people who are born on 1908 and afterwards, and who doesn’t a death year</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb41"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">NAME_BASICS</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">knownForTitles</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">birthYear</span><span class="op">==</span><span class="fl">1908</span>, <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">deathYear</span><span class="op">)</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="va">primaryName</span>, .keep_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">primaryName</span>,<span class="va">primaryProfession</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-3ab5ad16ea2ac82e24c5" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-3ab5ad16ea2ac82e24c5">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111"],["Angel Acciaresi","Fritz Aeckerle","Robert Aisner","Irmgard Alberti","Ugo Amadoro","Conchita Ballesteros","Hanna Bark","Harry Belock","Ardhendu Mukherjee","Aida Broadbent","Dorothy Brown","Akiko Chihaya","Neville Clark","Frances Cuyler","Louis de Masure","Lesley Deane","Walter Edthofer","Ermeline","Celia Escudero","C.M. Florance","Marcel Fradetal","Willy Friedrichs","Annie Gaál","Gulab","Les Hammond","Ellen Hille","Stanley Irving","Hilde Jaeger","Rosa Jung","Agha Jani Kashmiri","Namiko Kawashima","Andor Kozma","Albrecht Langenbeck","Fred Langenfeld","Monaei Lindley","Emiliano Lizares","Karin Luesebrink","Eberhard Mack","Enrico Marciani","Otto Merz","Luis Muñoz Alcolea","Lea Niako","Vladimir Nikitchenko","Yukiko Ogawa","Paola Ojetti","Giorgio Pinzauti","Robert Porchet","B. Narayan Rao","Beryl Roberts","Rose-Mai","Taeko Sakuma","Liselotte Schaak","Karl Schill","William Schwartz","Marie Stampachová","Sunder","Kazuo Takimura","Giulio Tamassy","Mikheil Vashadze","Karel Vavrik","Alberto Vecchietti","Irja Viherpuu","Nikolai Yarochkin","János Zalabéri Horváth","Umberto Zuanelli","Seymour Österwall","Etang Discher","John K. Samson","San Lorenzo de Almagro","C.A. Huracán","Raul Reyes","Andor Matolcsy","Vladimír Tuma","Münir Ceyhan","Alfred Cline","Karel Pfeiffer","Sam Williams","Bernice Parks","Nunù Sanchioni","Umeko Sakuragi","Inge Vesten","Kunimatsu Ogawa","Lily Frederiksen","Junko Kume","Tazuko Suminoe","Jaroslav Pulpán","Juanjuan Ye","Kentarô Miyako","Kikusaburô Kawai","Shirô Naruto","Jaroslava Panenková","Elisabeth Barth","Simone Guy","Jaroslav Kotrba","Jan Kubícek","Shri Krishna Acharekar","Siu-Ying Ma","Paul Anderson","Hilkka Silanen","Marshall Stearns","László Szente","Mariamélia","Oldrich Payer","Orlando Lippert","Nani Majumdar","Bunro Shimada","Boris Mishin","Germany National Football Team","Klavdiya Fadeyeva","Birgit Åkesson","Kiyoko Tsuji"],["assistant_director,director,writer","producer,writer,assistant_director","producer,writer,miscellaneous","actress","special_effects,assistant_director,director","actress","assistant_director,miscellaneous","sound_department","director,actor,writer","miscellaneous,actress","actress,writer","actress","actor,producer,soundtrack","actress","production_manager,assistant_director,producer","actress,producer","actor","actress","actress","assistant_director,production_manager,location_management","cinematographer,camera_department","actor,miscellaneous","actress","actress","sound_department,music_department","actress","assistant_director,director,miscellaneous","actress","actress","writer,actor,director","actress","actor","production_designer","cinematographer,camera_department","actress","actor","actress","actor","actor,production_manager","cinematographer,camera_department","camera_department,cinematographer,editor","actress,miscellaneous","special_effects,production_designer,director","actress","writer,actress,miscellaneous","production_designer,art_director,art_department","cinematographer,camera_department","director,producer","actress","actress","actress","actress","actor","sound_department,soundtrack","actress","actor,music_department,soundtrack","producer,assistant_director","art_department","actor","actor","writer,assistant_director,actor","actress","actor","production_manager,writer,producer","actor","composer,actor,music_department","actress","actor","archive_footage","archive_footage","actor,soundtrack","writer,producer","writer","actor,composer","camera_department,miscellaneous","actor","miscellaneous,art_department,actor","actress,soundtrack","actress","actress","actress,soundtrack","actor","actress","actress","actress","actor","actress","actor","actor","actor","actress","actress","actress,archive_footage","actor","producer,production_manager","art_director","actress","director,actor,writer","actress,director","miscellaneous","camera_department","actress","cinematographer","director,cinematographer","actor,assistant_director","actor","actor","soundtrack,archive_footage","actress","writer,miscellaneous,actress","actress"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>primaryName<\/th>\n      <th>primaryProfession<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"primaryName","targets":1},{"name":"primaryProfession","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>There are 111 individuals who were born in the year 1911.</p>
<blockquote class="blockquote">
<p>3.There is one TV Episode in this data set with a perfect 10/10 rating and 200,000 IMDb ratings. What is it? What series does it belong to?</p>
</blockquote>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb42"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/DT">DT</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">perfect_episode</span><span class="op">&lt;-</span><span class="va">TITLE_RATINGS</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">averageRating</span><span class="op">==</span><span class="fl">10.0</span>,<span class="va">numVotes</span><span class="op">&gt;=</span><span class="fl">200000</span><span class="op">)</span></span>
<span></span>
<span><span class="va">perfect_episode</span><span class="op">&lt;-</span><span class="va">perfect_episode</span><span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">TITLE_EPISODES</span>,by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'tconst'</span><span class="op">=</span><span class="st">'tconst'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">perfect_episode</span><span class="op">&lt;-</span><span class="va">perfect_episode</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">TITLE_BASICS</span>,by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'tconst'</span><span class="op">=</span><span class="st">'tconst'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">table_creation</span><span class="op">(</span><span class="va">perfect_episode</span><span class="op">|&gt;</span></span>
<span>                 <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">originalTitle</span>,<span class="va">titleType</span>,<span class="va">seasonNumber</span>,<span class="va">episodeNumber</span>,<span class="va">averageRating</span>,<span class="va">numVotes</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-e14addb56386686d4a74" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e14addb56386686d4a74">{"x":{"filter":"none","vertical":false,"data":[["1"],["Ozymandias"],["tvEpisode"],[5],[14],[10],[228391]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>originalTitle<\/th>\n      <th>titleType<\/th>\n      <th>seasonNumber<\/th>\n      <th>episodeNumber<\/th>\n      <th>averageRating<\/th>\n      <th>numVotes<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"pageLength":10,"lengthChange":false,"dom":"t","columnDefs":[{"className":"dt-right","targets":[3,4,5,6]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"originalTitle","targets":1},{"name":"titleType","targets":2},{"name":"seasonNumber","targets":3},{"name":"episodeNumber","targets":4},{"name":"averageRating","targets":5},{"name":"numVotes","targets":6}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>The perfect rated TV episode is “Ozymandias” which is the 14th Episode in Season 5 of Breaking Bad TV Series.</p>
<blockquote class="blockquote">
<p>4.What four projects is the actor Mark Hamill most known for? I wrote a function <code>find_projects</code> which takes <code>actor_or_director</code> name as a parameter and returns all the projects they have been part of.</p>
</blockquote>
<p>I began by joining the <code>TITLE_RATINGS</code> and <code>TITLE_EPISODES</code> datasets to create <code>TITLE_BASICS_RATING_1</code> and <code>TITLE_BASICS_RATING_2</code>, using the tconst (title constants) as the key. This ensured that all relevant title ratings and episode information were combined.</p>
<p>Next, I merged these two datasets into <code>TITLE_RATING_EPISODE</code>, arranged it by descending averageRating and numVotes, and removed duplicate entries to get a clean dataset for further analysis.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb43"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="va">TITLE_BASICS_RATING_1</span><span class="op">&lt;-</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">full_join</a></span><span class="op">(</span><span class="va">TITLE_RATINGS</span>,<span class="va">TITLE_EPISODES</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">tconst</span><span class="op">)</span>,by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"tconst"</span> <span class="op">=</span> <span class="st">"tconst"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">TITLE_BASICS_RATING_2</span><span class="op">&lt;-</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">full_join</a></span><span class="op">(</span><span class="va">TITLE_RATINGS</span>,<span class="va">TITLE_EPISODES</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">parentTconst</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>tconst<span class="op">=</span><span class="va">parentTconst</span><span class="op">)</span>,by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"tconst"</span> <span class="op">=</span> <span class="st">"tconst"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">TITLE_RATING_EPISODE</span><span class="op">&lt;-</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html">bind_rows</a></span><span class="op">(</span><span class="va">TITLE_BASICS_RATING_1</span>,<span class="va">TITLE_BASICS_RATING_2</span><span class="op">)</span></span>
<span><span class="va">TITLE_RATING_EPISODE</span><span class="op">&lt;-</span><span class="va">TITLE_RATING_EPISODE</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">averageRating</span><span class="op">)</span>,<span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">numVotes</span><span class="op">)</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span><span class="va">TITLE_BASICS_RATING_1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span><span class="va">TITLE_BASICS_RATING_2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html">sample_n</a></span><span class="op">(</span><span class="va">TITLE_RATING_EPISODE</span>,<span class="fl">100</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-db3022b3b2d7b76019dd" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-db3022b3b2d7b76019dd">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1127342,null,null,null,null,null,null,null,null,84394,1286544,null,null,null,null,null,null,null,null,545537,null,null,null,null,null,null,1155926,1280940,null,null,null,null,null,null,null,null,null,17100,null,null,536150,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1342108,null,null,null,null,null,null,null,null,null],["tt11214474","tt6844590","tt0818728","tt13376980","tt33096686","tt10542826","tt15578182","tt6871360","tt13220956","tt15580336","tt11328990","tt3156484","tt7346118","tt15782478","tt0737164","tt3385416","tt19718362","tt14217028","tt5051970","tt6584090","tt10331770","tt0710559","tt10379080","tt7913190","tt0111804","tt5835196","tt0904844","tt2610672","tt10242942","tt28228960","tt17003844","tt0530072","tt27357218","tt3412338","tt11388568","tt0570013","tt9782126","tt0971284","tt19637294","tt12280630","tt1663600","tt3776654","tt5753416","tt4768762","tt22088678","tt10929778","tt3258724","tt14772670","tt0732941","tt12408984","tt0607542","tt0695527","tt0033430","tt27690152","tt9591330","tt11229842","tt26740150","tt1767405","tt0512657","tt16118024","tt4116034","tt9054782","tt29261002","tt1131991","tt2205500","tt3371084","tt1395338","tt19767764","tt22046498","tt16271736","tt0865163","tt6910106","tt32173632","tt28421191","tt12657486","tt15845082","tt9836440","tt12934504","tt1464866","tt16289696","tt12449032","tt2736444","tt13144088","tt13433870","tt11550132","tt10245366","tt6529654","tt14318356","tt1700010","tt11223978","tt6754794","tt33079454","tt28101674","tt2082712","tt7051760","tt9266848","tt23455696","tt11166234","tt30881168","tt0638502"],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,6.5,null,null,null,null,null,null,null,null,6.6,7.8,null,null,null,null,null,null,null,null,7.6,null,null,null,null,null,null,8.300000000000001,6.8,null,null,null,null,null,null,null,null,null,5.7,null,null,8.199999999999999,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,7.5,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,183,null,null,null,null,null,null,null,null,1068,175,null,null,null,null,null,null,null,null,1158,null,null,null,null,null,null,175,135,null,null,null,null,null,null,null,null,null,203,null,null,204,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,277,null,null,null,null,null,null,null,null,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>X<\/th>\n      <th>tconst<\/th>\n      <th>averageRating<\/th>\n      <th>numVotes<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,3,4]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"X","targets":1},{"name":"tconst","targets":2},{"name":"averageRating","targets":3},{"name":"numVotes","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>I created the dataset <code>ALL_TITLES</code> by merging title information (such as <code>primaryTitle</code>, <code>titleType</code>, and <code>startYear</code>) with the <code>TITLE_RATING_EPISODE</code>. I filtered out any entries categorized under the genre “Others” to focus on specific genres.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb44"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#|code-summary: "Show the code"</span></span>
<span></span>
<span><span class="va">ALL_TITLES</span><span class="op">&lt;-</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">full_join</a></span><span class="op">(</span></span>
<span>  <span class="va">TITLE_BASICS</span><span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">tconst</span>,<span class="va">primaryTitle</span>,<span class="va">titleType</span>,<span class="va">genres</span>,<span class="va">genre_cleaned</span>,<span class="va">startYear</span><span class="op">)</span>,</span>
<span>  <span class="va">TITLE_RATING_EPISODE</span>,by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"tconst"</span> <span class="op">=</span> <span class="st">"tconst"</span><span class="op">)</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">genres</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">genre_cleaned</span><span class="op">!=</span><span class="st">"Others"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html">sample_n</a></span><span class="op">(</span><span class="va">ALL_TITLES</span>,<span class="fl">100</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-be2325539b4479daaca1" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-be2325539b4479daaca1">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],["tt1204298","tt5962088","tt0256106","tt8405938","tt1305778","tt5777808","tt0116977","tt0598157","tt0831814","tt2021317","tt14432384","tt19386842","tt0196894","tt27394468","tt2888480","tt4840946","tt3215460","tt4018944","tt0560413","tt13304700","tt1052607","tt0221695","tt0289658","tt10197554","tt0458303","tt29690142","tt0165946","tt28487791","tt1313600","tt8054506","tt0064510","tt14221752","tt1619578","tt0316946","tt21159706","tt4103222","tt30096240","tt2721120","tt4574910","tt0202831","tt19783714","tt0723754","tt7209510","tt28712016","tt5529120","tt2991092","tt11600810","tt0889651","tt0995033","tt0031777","tt9471842","tt0064609","tt13841384","tt0589803","tt0153098","tt12526352","tt0749450","tt0609387","tt28840429","tt9795876","tt0061262","tt23457158","tt0705223","tt0363118","tt0044888","tt1047034","tt10364226","tt13675362","tt2698160","tt1535472","tt0079788","tt7896086","tt0638261","tt5852644","tt11847924","tt2227459","tt3723848","tt0996278","tt16440820","tt27137751","tt1204341","tt0751322","tt1582328","tt9905462","tt0243415","tt7659908","tt0877508","tt1388365","tt0075527","tt21092250","tt13112998","tt0839010","tt1914044","tt30396498","tt0407304","tt19866218","tt12140400","tt24188150","tt10518734","tt22872664"],["Gunnin' for That #1 Spot","Episode #1.1","The Rites of May","Fresh Out of Forgiveness","Tender Parasites","Emanet","Man with a Gun","The Bells Toll at Noon","Kyuukyoku Kanzentai: Great Moth","Used Karma","Theodosia","Don't You Run and Hide","Karate Warrior 3","I Have a Problem","Hidden Hills","The Battle of the Corridor (Beginning): The Invincible and the Undefeated","Forget Me","Episode #1.1","The Dark Network of Etemon","Snowdrop","The Status Seekers","Wash Day in Mexico","After Amy","In the Middle","Gene Simmons","The Confession","Composition for Victory Day","Protocolo","Can the Housemates Keep Angel Alive?","Nadeshiko nabi to yukemuri no yoru","Jenny","Sisters War: Part 1","Moment of Nostalgia","Zombiegeddon","Soul-Crushing-Cycle","Tribunal","Blood Vessel","Uprising","Episode #6.5","The Children of Chabannes","Luxembourg, Luxembourg","The Death Merchant","Glossary of Broken Dreams","To You","Superplokhie","Eastern Boys","Love Shack","Rock'n Roll Never Dies","Chicago Massacre: Richard Speck","Panama Lady","Trio","Lucia","In the Room","Rites of Spring","The Tomorrow Man","The Circumcision","The Pager","Too Many Crooks","Ice Cold: Murder, Coffee and Jessica Wongso","Star Trek: Prodigy","The Herculoids","Following the Sun","46 Long","Frauenmorde","The Marrying Kind","Jennings &amp; Rall","Afili Ask 1","The New Guy","Enemy of My Enemy","Possessed","Zombie Holocaust","Loading Up","Bombshells","Deadpool: From Comics to Screen... to Screen","Who Framed Santa Claus?","Last Dance","Forced Move","So You Think You Can Meke?","The Perfect Christmas","To a New World","The Universe of Keith Haring","Mojovision","Zoo Tube/Snakehead!","Pengalila","Mercy Streets","El laberinto del fauno: Detras de las camaras","Jigoku sensei Nube","Skull &amp; Bones","Logan's Run","Joint","End of the Line","Memory Serves","Jailbird and Jailbunny","Current Situations and Next Steps","War of the Worlds","Hazel vs. Hazel","Code of Conduct","Dangerous Romance","Chapter 2: I Love Toto","Episode #4.7"],["movie","tvEpisode","movie","tvEpisode","movie","movie","movie","tvEpisode","tvEpisode","tvEpisode","tvSeries","tvEpisode","video","tvEpisode","movie","tvEpisode","tvEpisode","tvEpisode","tvEpisode","tvSeries","tvEpisode","short","tvMovie","tvEpisode","tvEpisode","tvEpisode","movie","tvEpisode","tvEpisode","tvEpisode","movie","tvEpisode","tvEpisode","video","tvEpisode","tvEpisode","movie","tvEpisode","tvEpisode","movie","movie","tvEpisode","movie","tvEpisode","movie","movie","tvEpisode","movie","video","movie","movie","movie","tvEpisode","tvEpisode","video","tvEpisode","tvEpisode","tvEpisode","movie","tvSeries","tvSeries","tvEpisode","tvEpisode","tvEpisode","movie","tvEpisode","tvEpisode","tvEpisode","tvEpisode","movie","movie","tvEpisode","tvEpisode","video","movie","tvEpisode","movie","tvEpisode","tvEpisode","tvEpisode","movie","tvEpisode","tvEpisode","movie","movie","video","tvSeries","video","tvSeries","tvEpisode","tvEpisode","tvEpisode","tvEpisode","tvEpisode","movie","tvEpisode","tvEpisode","tvSeries","tvEpisode","tvEpisode"],["Documentary","Crime","Horror","Drama","Romance","Action","Thriller","Crime","Action","Comedy","Adventure","Drama","Drama","Animation","Romance","Animation","Drama","Crime","Action","Crime","Animation","Documentary","Sci-Fi","Romance","Documentary","Romance","Crime","Thriller","Drama","Adventure","Romance","Drama","Drama","Horror","Comedy","Crime","Adventure","Drama","Romance","Documentary","Comedy","Sci-Fi","Drama","Action","Drama","Drama","Drama","Comedy","Drama","Drama","Comedy","Drama","Romance","Drama","Sci-Fi","Comedy","Crime","Comedy","Crime","Adventure","Sci-Fi","Documentary","Crime","Drama","Drama","Drama","Romance","Drama","Animation","Thriller","Horror","Crime","Drama","Documentary","Comedy","Drama","Thriller","Adventure","Drama","Action","Documentary","Animation","Animation","Drama","Action","Documentary","Action","Comedy","Adventure","Sci-Fi","Animation","Drama","Comedy","Action","Adventure","Comedy","Drama","Romance","Drama","Crime"],[2008,2016,1976,2018,2009,2016,1995,1977,2000,2011,2022,2022,1991,2023,2013,1995,2014,2016,1999,2021,1987,1898,2001,2019,2004,2023,1998,2023,2008,2018,1970,2021,2010,2003,2023,2015,2023,2013,2015,1999,2022,1967,2018,2023,2016,2013,2021,2006,2007,1939,2019,1968,2021,1989,2002,2021,2002,1953,2023,2021,1967,2023,1999,2003,1952,2008,2019,2021,2013,2009,1980,2018,1982,2016,2021,2012,2016,2007,2021,2023,2008,1994,2010,2019,2000,2006,1996,2007,1977,2023,2020,2006,2011,2024,2005,2022,2020,2023,2019,2022],[6.4,6.5,6.8,7.6,6.2,5.5,4.8,7.7,7.3,7,6.2,7.7,2.9,7.8,4.4,9.300000000000001,7.5,7.5,7.1,8.1,7.4,3.8,5.1,7.3,6.5,8.4,6.4,5.9,7.3,8.1,5.5,8.699999999999999,7.6,2.9,7.6,9.1,4.5,8.9,8.5,8,7.9,6.2,5.7,8,4.3,6.9,8.199999999999999,5.3,3.9,5.8,6.5,7.1,9,7.8,4.9,7.6,8.199999999999999,8.4,5.9,7.6,7.4,8.6,8.199999999999999,7,6.9,7.9,8.699999999999999,7.5,8.4,6.1,5.2,8,7.4,6.9,3.9,7.6,5.6,7.4,8.699999999999999,8.4,7.4,6,8.199999999999999,7.6,5.2,7.3,6.9,2.5,7.1,1.3,7.6,8.1,7.5,7.2,6.5,7.7,8.300000000000001,7.4,7.8,7.7],[515,160,537,334,143,142,695,110,180,182,775,216,108,273,103,200,167,217,186,13022,201,131,306,118,106,107,124,357,451,111,227,297,658,785,174,1323,458,207,1527,104,4186,172,7091,764,103,3884,216,351,939,332,461,1220,1755,454,365,388,5778,367,1868,6860,1368,462,10527,127,1667,721,100,1224,261,1103,6001,312,460,133,194,111,471,109,524,159,476,948,110,680,606,127,118,155,3104,122,533,322,277,112,481527,190,275,536,206,370]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>tconst<\/th>\n      <th>primaryTitle<\/th>\n      <th>titleType<\/th>\n      <th>genre_cleaned<\/th>\n      <th>startYear<\/th>\n      <th>averageRating<\/th>\n      <th>numVotes<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[5,6,7]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"tconst","targets":1},{"name":"primaryTitle","targets":2},{"name":"titleType","targets":3},{"name":"genre_cleaned","targets":4},{"name":"startYear","targets":5},{"name":"averageRating","targets":6},{"name":"numVotes","targets":7}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>I gathered crew information by combining <code>TITLE_CREW</code> (containing director data) and <code>TITLE_PRINCIPALS1</code> (with principal actor information) to create ALL_CREW, which included both directors and actors. To link this data with individual crew members, I merged the <code>ALL_CREW</code> dataset with the NAME_BASICS dataset, which includes <code>actors</code> and <code>directors</code> known projects and names.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb45"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#|code-summary: "Show the code"</span></span>
<span><span class="va">TITLE_RATINGS_CREW_1</span><span class="op">&lt;-</span><span class="va">ALL_TITLES</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">tconst</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">full_join</a></span><span class="op">(</span><span class="va">TITLE_CREW</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">tconst</span>,<span class="va">directors</span><span class="op">)</span>,by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"tconst"</span><span class="op">=</span><span class="st">"tconst"</span><span class="op">)</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">TITLE_RATING_CREW_2</span><span class="op">&lt;-</span><span class="va">ALL_TITLES</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">tconst</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">full_join</a></span><span class="op">(</span><span class="va">TITLE_PRINCIPALS1</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">tconst</span>,<span class="va">nconst</span><span class="op">)</span>,by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"tconst"</span><span class="op">=</span><span class="st">"tconst"</span><span class="op">)</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ALL_CREW</span><span class="op">=</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html">bind_rows</a></span><span class="op">(</span><span class="va">TITLE_RATINGS_CREW_1</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>nconst<span class="op">=</span><span class="va">directors</span><span class="op">)</span>,<span class="va">TITLE_RATING_CREW_2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span><span class="va">TITLE_RATINGS_CREW_1</span>,<span class="va">TITLE_RATING_CREW_2</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html">sample_n</a></span><span class="op">(</span><span class="va">ALL_CREW</span>,<span class="fl">100</span><span class="op">)</span><span class="op">|&gt;</span> <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-590a5728bb4e060c8105" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-590a5728bb4e060c8105">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],["tt0392494","tt2361567","tt0251364","tt0439585","tt7086346","tt0648264","tt8746284","tt0444208","tt2239727","tt0295003","tt0138310","tt0367276","tt0068441","tt1379071","tt0054107","tt0118864","tt0330365","tt0244794","tt0571576","tt13207508","tt8254556","tt1559916","tt27200346","tt16529232","tt0094860","tt6485142","tt14068864","tt14963532","tt0268531","tt5011816","tt1510471","tt0640358","tt0786005","tt9071456","tt1008806","tt6343466","tt12935074","tt1458915","tt1651062","tt3612008","tt0063180","tt4102462","tt0252299","tt6446434","tt6930594","tt11566164","tt1570315","tt7262820","tt22857250","tt14184706","tt0504229","tt0655410","tt0641111","tt0817230","tt0290244","tt2012155","tt27559827","tt0591008","tt0042519","tt23054918","tt0022356","tt0443753","tt1517514","tt0517685","tt0555152","tt5141260","tt0989654","tt30059430","tt0102714","tt6009024","tt1882956","tt13667180","tt10332628","tt19883574","tt1185594","tt2717564","tt0273169","tt0106348","tt0058986","tt1523515","tt5773076","tt7518370","tt0279721","tt0703031","tt0226232","tt13958318","tt1715081","tt1101654","tt6123978","tt2183404","tt6831708","tt0195022","tt2544606","tt3304468","tt0710369","tt5632786","tt2229842","tt27054792","tt0793878","tt7420688"],["nm0110292","nm1230079","nm1015203","nm0599878","nm4419771","nm0642368","nm4759571","nm0001398","nm2694007","nm0676117","nm0479750","nm0752826","nm0006271","nm3365941","nm0793983","nm0428439","nm0006337","nm0006795","nm0790401","nm5377144","nm9854120","nm0524747","nm7514824","nm4260686","nm0702934","nm2834669","nm5588882","nm0110528","nm0526304","nm0957197","nm1153843","nm0434223","nm0031844","nm0597313","nm0794060","nm6038984","nm11831487","nm0014599","nm0242026","nm1675025","nm0610595","nm0326263","nm0429963","nm4905157","nm0842478","nm1693068","nm0636562","nm0853932","nm1730063","nm12217721","nm0712863","nm0444565","nm0546100","nm0000870","nm1024116","nm4653786","nm1884175","nm2934305","nm0239069","nm0555898","nm0615617","nm0388367","nm8025032","nm0278082","nm0401799","nm7606015","nm0490487","nm0522909","nm0276232","nm2427005","nm2482006","nm1981443","nm1194301","nm2999868","nm0950593","nm2837934","nm0685227","nm0692752","nm0233587","nm0059941","nm0819083","nm9524441","nm0919892","nm0932734","nm0693139","nm5650589","nm2687789","nm1754642","nm8175408","nm0975026","nm2091484","nm0483149","nm0024313","nm0381090","nm0179671","nm4594997","nm9556136","nm0819850","nm0005190","nm0005195"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>tconst<\/th>\n      <th>nconst<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"tconst","targets":1},{"name":"nconst","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb46"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#|code-summary: "Show the code"</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="va">ALL_CREW</span><span class="op">=</span><span class="va">ALL_CREW</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">full_join</a></span><span class="op">(</span><span class="va">NAME_BASICS</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">nconst</span>,<span class="va">primaryName</span>,<span class="va">knownForTitles</span><span class="op">)</span>,by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"nconst"</span><span class="op">=</span><span class="st">"nconst"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ALL_CREW</span><span class="op">&lt;-</span><span class="va">ALL_CREW</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html">sample_n</a></span><span class="op">(</span><span class="va">ALL_CREW</span>,<span class="fl">100</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-eac9fec8d447582c5b1d" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-eac9fec8d447582c5b1d">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],["tt9111220","tt0720143",null,"tt5059126","tt9386242",null,"tt5432712","tt6395368","tt13224524",null,"tt0660722","tt15258108",null,"tt3344996",null,"tt1870796","tt4367770","tt0436982",null,"tt17155604","tt0367046","tt0693076","tt0030138","tt0156939",null,"tt0709172","tt32965558","tt0386032",null,null,null,"tt1319945",null,"tt0061456","tt0114323","tt0809058","tt0228394",null,"tt11905724","tt1817784","tt0601721",null,"tt0085494","tt19896278","tt0116093",null,"tt1310569",null,null,"tt12749696","tt11566794","tt2953190","tt0369610","tt0717417","tt3277742","tt8883922","tt1586676","tt0342535","tt1189073","tt5078886","tt7375408","tt0070787","tt2795764",null,null,"tt0027377","tt1590089","tt0220642","tt7203052","tt0115434","tt0116012","tt1091989","tt1336827","tt5300252",null,"tt0111996","tt0858000","tt1119112","tt0337782","tt0397582","tt0534796","tt14865346",null,"tt16420444",null,"tt0080725",null,"tt3302926","tt2292844","tt0063764","tt0257844","tt0534889","tt0697733","tt0739262","tt7133184",null,"tt6860006","tt3505538",null,"tt0250167"],["nm0367524","nm0005194","nm0610841","nm0451503","nm6212234","nm10962425","nm1268472","nm0822812","nm1210909","nm14368686","nm0284129","nm4522027","nm7782830","nm0752104","nm12454941","nm1680810","nm0315298","nm2015769","nm1664253","nm0747500","nm0840762","nm0048169","nm0328966","nm0284459","nm3429817","nm0916712","nm7502119","nm1125277","nm0875447","nm2728979","nm3540850","nm1780055","nm2167692","nm0835581","nm0952388","nm0414595","nm0001890","nm1124798","nm2952467","nm11875480","nm0816876","nm0819951","nm0000102","nm13800815","nm0001755","nm13572259","nm1265067","nm6806419","nm0131848","nm3324087","nm3435683","nm2385770","nm0660667","nm0875744","nm1320324","nm0844327","nm0938490","nm1284862","nm0351133","nm7539650","nm0792189","nm0483435","nm0761052","nm11658923","nm2891780","nm0938052","nm0454128","nm0443541","nm1637962","nm0773845","nm0345181","nm1076401","nm0001153","nm2351703","nm2463550","nm0068035","nm0063215","nm8745136","nm0791606","nm0529813","nm1517976","nm0544334","nm13865201","nm2469730","nm7120754","nm0795784","nm4122656","nm6216533","nm7630601","nm0000489","nm0652718","nm0010264","nm0730524","nm0217391","nm0610519","nm1509398","nm6875350","nm0000429","nm5099041","nm0949355"],["Gary Harvey","Danny Masterson","Cassandra Keating","Christal Khatib","Greg Poehler","Vivien Fedele","Antonio Fresa","Stephen Stanton",null,"Ryunosuke Mochizuki","Ellen Foley","Amir Hedayah","Camila Morales","Gabriel Mann","Mark Miller","Charles Donohoe","Jennifer Getzinger",null,"Kirsi Heikkilä","Irina Rozanova","Cecilia Suárez","Nick Bakay","Saul A. Goodkind","Nina Fomina","Lukasz Sobisz","Paul Weber","Kôhei Amasaki","Tony Benn","Kimihiko Tsurugaya","Roland Tóth","Sandy Garfunkel","Naoki Urasawa","Hélène Sonneville","Ulla Strömstedt","Lauren Zalaznick","Renae Jacobs","Hugh Herbert","Olympia","Andy Buckley",null,"Joe Spano","Brad Spurr","Kevin Bacon",null,"Suzanne Somers","Adelio Moras","50 Cent","Antonio Romero","Francisco Camino","Andrea Paolo Massara","Cris George","Michael Keillor","John Papsidera","Michael Tuchner","Katy Tuxford","Olivier Szulzynger","Andy Wolk","Yoram Sachs","José Luis Gómez","William Long","Joe Sheridan","Vassili Lambrinos","Roselyn Sanchez","Lauren Darlene","Tunji Lucas","Ian Wolfe","Yoshino Kimura","Kostas Kazakos","Tiana Benjamin","Helge Schneider","Guadalupe","Hristo Dimitrov","Lesley-Anne Down","Otto Busse","Ian Johnson",null,"Carter Bays",null,"Cheryl Shepard","Pilar López de Ayala","Chris Pine","Lesley Manville","Marc Feldhun","Alex Price","David Pfeifer",null,"Renata Bernardini",null,"Natalya Yavorskaya","Christopher Lee","Shinobu Ôtake","Jay Acovone","Mike Robelo","Bruno Della Santina","Christopher Moynihan","Joel Mishcon","Brian Fletcher","Melanie Griffith","Megumi Masaoka","Carleton Young"],["tt1974470,tt1091909,tt0418424,tt1707825","tt0165598,tt0219653,tt0119094,tt0106375","tt1385826,tt1959490,tt3581652,tt1720616","tt1837576,tt3502262,tt8740976,tt7661384","tt3463606,tt6432466,tt8169446,tt19401412","tt2819924,tt8883922,tt29694831","tt5432712,tt2787714,tt0319344,tt2990836","tt3748528,tt12708542,tt8610082,tt13668894",null,"tt10795658,tt13664452,tt21211474,tt24478470","tt0093010,tt0079261,tt0094889,tt0084805","tt14866860,tt2639664,tt3867086,tt6539420","tt6735284,tt30320639,tt28437109,tt13648224","tt1442437,tt20869432,tt7608248,tt14696284","tt14371314,tt14371272,tt7099144,tt17007188","tt4802250,tt0981216,tt1841108,tt10589968","tt0804503,tt13622776,tt0475784,tt13729648",null,"tt0188135,tt0307076,tt0387701,tt0200299","tt0103698,tt1945081,tt27868137,tt0791635","tt14590210,tt8387348,tt0481320,tt0164877","tt0115341,tt3450650,tt0131664,tt1222817","tt0029461,tt0031796,tt33368396,tt0027623","tt3054260,tt0186421,tt0063734,tt0156939","tt3480822,tt4154664,tt9419884,tt0870984","tt1758429,tt0118480,tt0374455,tt0112111","tt31889371,tt15433166,tt10431262,tt21975478","tt1934634,tt0249284,tt14690444,tt1400402","tt0100998,tt1798635,tt0435107,tt1155765","tt7310554,tt0861751,tt0401559,tt0146063","tt10943604,tt3114868,tt1730225,tt4493226","tt1155705,tt26737616,tt0373563,tt27166352","tt1245877,tt1068951,tt0759748","tt0061456,tt0058816,tt0057119,tt0246349","tt0113540,tt0114323,tt0196229,tt0156226","tt0131613,tt1877889,tt12132322,tt27374803","tt0033397,tt0020953,tt0024075,tt0030202","tt0439240,tt0415129,tt0415132,tt0415130","tt0386676,tt0369610,tt1759761,tt1586680",null,"tt0112384,tt0488120,tt0427969,tt0069704","tt1536749,tt2051662,tt18303972,tt0479121","tt0087277,tt0164052,tt0361127,tt0327056",null,"tt0075596,tt0111127,tt0092449,tt0101205","tt10936342,tt19896920,tt16257052","tt0430308,tt3281796,tt1211956,tt3079380","tt6428676,tt6659324,tt2857458,tt11204520","tt3596306,tt0832439,tt0416467,tt13730840","tt9004396,tt3715122,tt14915618,tt5205256","tt4262980,tt0860906,tt2259737,tt0899258","tt10846250,tt7948996,tt2303687,tt4276618","tt4236770,tt13991232,tt18335752,tt15398776","tt0165592,tt0180386,tt0068576,tt0086476","tt0352699,tt0478942,tt2216156,tt1946173","tt8883922,tt0423713,tt22640612,tt0204108","tt0120570,tt0099321,tt0159876,tt0251662","tt4677512,tt3922516,tt0342535","tt0913425,tt1189073,tt0455957,tt0093840","tt26009546,tt5078886,tt13533574,tt6824530","tt0465494,tt0142688,tt0120744,tt0367959","tt0143920,tt0070787,tt0095496,tt0182076","tt1591479,tt0266915,tt0492956,tt0321021","tt32083116,tt22044324,tt7942794,tt7369974","tt3332064,tt1152384,tt0976015,tt8128344","tt0047472,tt0066434,tt0051201,tt0035279","tt1590089,tt0861689,tt0120120,tt5524370","tt0076208,tt0231546,tt0289523,tt6777446","tt0330373,tt0088512,tt0944836,tt5955222","tt0109000,tt2416424,tt0108317,tt0119932","tt0270126,tt0195207,tt0183677,tt0176420","tt1846589,tt1764651,tt3247714,tt3522806","tt0088583,tt0092325,tt0075066,tt0079240","tt0230742,tt0059347,tt0054336,tt0057816","tt0243155,tt0276751,tt0232632",null,"tt0460649,tt2244871,tt0106053,tt0322660",null,"tt0178142,tt0337782,tt0853076,tt0285209","tt0270480,tt1634121,tt1235841,tt0397582","tt0796366,tt0451279,tt2660888,tt1408101","tt1431181,tt5776858,tt5151570,tt9340860","tt0091288,tt0423713,tt8883922,tt5096600","tt1986953,tt4520906,tt2215842,tt2628232","tt4432300,tt0932799,tt0498891",null,"tt0075055,tt0363958,tt0426771,tt12522314",null,"tt7035266,tt15193236,tt2292844,tt6872792","tt0121765,tt0120737,tt0167261,tt0070917","tt0203100,tt0202932,tt0105389,tt0206216","tt5164196,tt4936406,tt0364845,tt9144756","tt0270728,tt0069646,tt0065317,tt0061277","tt0058816,tt0054164,tt0050067,tt0255763","tt0310281,tt1828238,tt1441093,tt5720168","tt4431386,tt0846453,tt1824925,tt0939652","tt4015216,tt3893044,tt14402146,tt4658612","tt0096463,tt0099165,tt0091983,tt0086984","tt1690483,tt1703049,tt0498536,tt5595178","tt0056217,tt0028346,tt0028785,tt0046672"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>tconst<\/th>\n      <th>nconst<\/th>\n      <th>primaryName<\/th>\n      <th>knownForTitles<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"tconst","targets":1},{"name":"nconst","targets":2},{"name":"primaryName","targets":3},{"name":"knownForTitles","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>I developed a function called <code>find_projects</code> that takes the name of an actor or director as input (in this case, “Mark Hamill”). The function filters the combined dataset (ALL_CREW) to find all projects associated with the specified person, including those in the <code>knownForTitles</code> column. The function then searches for these titles in the <code>ALL_TITLES</code> dataset to return the relevant projects.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb47"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#|code-summary: "Show the code"</span></span>
<span><span class="va">find_projects</span><span class="op">&lt;-</span><span class="kw">function</span><span class="op">(</span><span class="va">actor_or_director</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">titles_1</span><span class="op">&lt;-</span><span class="va">ALL_CREW</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html">str_detect</a></span><span class="op">(</span><span class="va">primaryName</span>, <span class="va">actor_or_director</span><span class="op">)</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">nconst</span>,<span class="va">knownForTitles</span>,<span class="va">tconst</span><span class="op">)</span></span>
<span>  <span class="va">titles_1</span><span class="op">&lt;-</span><span class="va">titles_1</span><span class="op">|&gt;</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/separate_longer_delim.html">separate_longer_delim</a></span><span class="op">(</span><span class="va">knownForTitles</span>, <span class="st">","</span><span class="op">)</span> </span>
<span>  <span class="va">titles</span><span class="op">&lt;-</span><span class="fu">vctrs</span><span class="fu">::</span><span class="fu"><a href="https://vctrs.r-lib.org/reference/vec_c.html">vec_c</a></span><span class="op">(</span><span class="va">titles_1</span><span class="op">$</span><span class="va">tconst</span><span class="op">|&gt;</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="op">)</span>,<span class="va">titles_1</span><span class="op">$</span><span class="va">knownForTitles</span><span class="op">|&gt;</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span> <span class="va">found_projects</span><span class="op">&lt;-</span><span class="va">ALL_TITLES</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">tconst</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">titles</span><span class="op">)</span></span>
<span>   </span>
<span> </span>
<span>  </span>
<span> <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">found_projects</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb48"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">name</span><span class="op">=</span><span class="st">"Mark Hamill"</span></span>
<span><span class="fu">find_projects</span><span class="op">(</span><span class="va">name</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">primaryTitle</span>,<span class="va">averageRating</span>,<span class="va">numVotes</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">numVotes</span><span class="op">)</span>,<span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">averageRating</span><span class="op">)</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">75</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-e00a7f5d75aba8bd59fd" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e00a7f5d75aba8bd59fd">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75"],["Star Wars: Episode IV - A New Hope","Star Wars: Episode V - The Empire Strikes Back","Star Wars: Episode VI - Return of the Jedi","Star Wars: Episode VII - The Force Awakens","Star Wars: Episode VIII - The Last Jedi","Star Wars: Episode IX - The Rise of Skywalker","Batman: The Animated Series","Batman: The Killing Joke","Regular Show","Justice League","Batman: Arkham City","Village of the Damned","Batman: Arkham Asylum","Star Wars: Episode V - The Empire Strikes Back: Deleted Scenes","Batman Beyond: Return of the Joker","Masters of the Universe: Revelation","Chapter 5: The Gunslinger","Star Wars: Episode VI - Return of the Jedi: Deleted Scenes","The Big Red One","The New Batman Adventures","Scooby-Doo on Zombie Island","Metalocalypse","Brigsby Bear","Sozin's Comet, Part 4: Avatar Aang","The Star Wars Holiday Special","Where I Really Come From","The Machine","Joseph: King of Dreams","Sozin's Comet, Part 3: Into the Inferno","Dante's Inferno: An Animated Epic","The Batman Superman Movie: World's Finest","Afro Samurai: Resurrection","You Look Kinda Dead","Robot Chicken: Star Wars","Scooby-Doo and the Alien Invaders","Zuko Alone","It's Been a While","Tricksters","Sozin's Comet, Part 2: The Old Masters","A Regular Epic Final Battle","The Storm","Regular Show: The Movie","De Palma","Sozin's Comet, Part 1: The Phoenix King","The Guyver","The Day of Black Sun, Part 2: The Eclipse","Balto: Wolf Quest","The Awakening","Sushi Girl","Nightmares and Daydreams","Swat Kats: The Radical Squadron","Running to Stand Still","Scooby-Doo! Camp Scare","Sacrifice","Hamilton","The Power","Exit 9B","Heart of Ice","Mordecai and the Rigbys","Just Set Up the Chairs","The Present","Death Punchies","Eggscellent","Corvette Summer","Caffeinated Concert Tickets","Prank Callers","Ello Gov'nor","Grilled Cheese Deluxe","Rage Against the TV","Free Cake","The Incredible Hulk","Meat Your Maker","Don","Into the Bunker","Rigby's Body"],[8.6,8.699999999999999,8.300000000000001,7.8,6.9,6.4,9,6.4,8.5,8.5,9.4,5.6,9.1,8.800000000000001,7.7,5.6,7.5,8.4,7.1,8.4,7.7,8.300000000000001,7.3,9.9,2.2,9.699999999999999,5.7,6.5,9.800000000000001,6.5,7.7,7.1,7.6,8,6.8,9.5,9.1,9,9.5,9.800000000000001,9,7.4,7.4,9,4.9,9.4,6,8.6,6,7.6,8.4,8.4,7.2,9.199999999999999,5.8,8.699999999999999,9.699999999999999,9,9.199999999999999,8.699999999999999,8.699999999999999,8.9,9.6,5.7,8.4,9,9.1,8.800000000000001,9.300000000000001,8.4,6.7,8.300000000000001,8.699999999999999,9.199999999999999,8.5],[1472325,1402795,1138445,984684,681976,503686,120724,62406,61179,52835,35700,34758,32245,30312,30286,28757,26542,22280,21777,19729,18774,18382,18012,17881,17232,16294,16165,14807,10681,10366,10180,9594,9584,8640,8073,8048,7670,7233,7042,6860,6520,6396,6346,6287,6174,6161,5508,5417,5359,5340,4866,4789,4727,4428,4424,4407,4356,4264,4112,4108,4069,4013,4002,4000,3974,3903,3900,3856,3853,3852,3831,3829,3827,3788,3774]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>primaryTitle<\/th>\n      <th>averageRating<\/th>\n      <th>numVotes<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"primaryTitle","targets":1},{"name":"averageRating","targets":2},{"name":"numVotes","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Based on the above analysis and functions, we find that Mark Hamill is famously known for the following four film/TV Series projects, which are Star Wars movies, The Batman Animated movies,Scooby Doo Animated Series and Avatar:The Last Airbender animated series. Mark Hamill is prestigious to be included in these film projects as they are highly rated and loved by the fans, especially Star Wars movies, The Last Airbender Animated Series and the Batman Animated movies.</p>
<blockquote class="blockquote">
<p>5.What TV series, with more than 12 episodes, has the highest average rating?</p>
</blockquote>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb49"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">SERIES</span><span class="op">&lt;-</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">right_join</a></span><span class="op">(</span><span class="va">ALL_TITLES</span>,<span class="va">TITLE_EPISODES</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">episodeNumber</span><span class="op">&gt;</span><span class="fl">12</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="va">parentTconst</span>,.keep_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">tconst</span><span class="op">)</span>,by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"tconst"</span><span class="op">=</span><span class="st">"parentTconst"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb50"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">SERIES</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">numVotes</span><span class="op">)</span>,<span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">averageRating</span><span class="op">)</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">primaryTitle</span>,<span class="va">averageRating</span>,<span class="va">numVotes</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>            primaryTitle averageRating numVotes
1           Breaking Bad           9.5  2211754
2                Friends           8.9  1109937
3       The Walking Dead           8.1  1106790
4    The Big Bang Theory           8.1   885395
5  How I Met Your Mother           8.3   741692
6             The Office           9.0   738180
7       Better Call Saul           9.0   679646
8                   Lost           8.3   612694
9                Vikings           8.5   598444
10          Prison Break           8.3   595806</code></pre>
</div>
</div>
<p>As seen from the above table, Breaking Bad ranks the first among the top ten TV series, that has the highest number of votes and rated well by the critics. It deserves to be rated as the highest because of the thrilling intensity, it gives the viewers as well as the way they show each of the character development and growth through each of the episode and season.</p>
</section><section id="iv.-quantifying-success" class="level3"><h3 class="anchored" data-anchor-id="iv.-quantifying-success">IV. Quantifying Success</h3>
<div class="callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Task 3
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<blockquote class="blockquote">
<p>Design a ‘success’ measure for IMDb entries, reflecting both quality and broad popular awareness. Implement your success metric using a mutate operator to add a new column to the TITLE_RATINGS table.</p>
</blockquote>
<p>I created a new variable <code>new_rating</code> with Smoothing Formula: The new rating is calculated using a simple form of Bayesian average to account for the uncertainty in ratings with a low number of votes. The formula used is:</p>
<p><span class="math display">\[ new-rating=(averageRating×numVotes+1)/(numVotes+2) \]</span></p>
<p><span class="math display">\[ new-rating= (numVotes+2)(averageRating×numVotes+1) \]</span></p>
<p>The term averageRating * numVotes gives the total sum of the ratings. Adding 1 to the numerator is a form of smoothing to slightly increase ratings with low votes. Dividing by numVotes + 2 accounts for the additional “pseudo-votes” introduced by the smoothing factor.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb52"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ALL_TITLES</span><span class="op">&lt;-</span><span class="va">ALL_TITLES</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>new_rating<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="op">(</span><span class="va">averageRating</span><span class="op">*</span><span class="va">numVotes</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="va">numVotes</span><span class="op">+</span><span class="fl">2</span><span class="op">)</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<blockquote class="blockquote">
<p>1.Choose the top 5-10 movies on your metric and confirm that they were indeed box office successes.</p>
</blockquote>
<p>I used the function <code>identify_title</code> to filter movies</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb53"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">identify_title</span><span class="op">&lt;-</span><span class="kw">function</span><span class="op">(</span><span class="va">df</span>,<span class="va">word</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">x</span><span class="op">&lt;-</span><span class="va">df</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grepl</a></span><span class="op">(</span><span class="va">word</span>,<span class="va">titleType</span>,ignore.case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>                     </span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><code>highest_top_50</code> function was developed to identify and retrieve the top 50 movies based on the number of votes and ratings. This function takes a dataframe as input, arranges the data in descending order by <code>numVotes</code> and <code>new_rating</code>, and returns the top 50 entries while excluding the columns <code>averageRating</code>, <code>tconst</code>, and <code>titleType</code> from the output. Next, the dataset <code>movies_rated</code> was generated by using the <code>identify_title</code> function to filter movie titles from the <code>ALL_TITLES</code> dataset, ensuring only distinct rows were included, and removing the <code>genre_cleaned</code> column. The <code>highest_top_50</code> function was then applied to this dataset, and the result was passed to the <code>table_creation</code> function, which produced an interactive table using the <code>DT</code> package to display the top 50 movies based on votes and ratings.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb54"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">highest_top_50</span><span class="op">&lt;-</span><span class="kw">function</span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="op">{</span></span>
<span>  <span class="va">df</span><span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">numVotes</span><span class="op">)</span>,<span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">new_rating</span><span class="op">)</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">averageRating</span>,<span class="op">-</span><span class="va">tconst</span>,<span class="op">-</span><span class="va">titleType</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb55"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/DT">DT</a></span><span class="op">)</span></span>
<span><span class="va">movies_rated</span><span class="op">&lt;-</span><span class="fu">identify_title</span><span class="op">(</span><span class="va">ALL_TITLES</span>,<span class="st">"movie"</span><span class="op">)</span></span>
<span><span class="fu">table_creation</span><span class="op">(</span><span class="fu">highest_top_50</span><span class="op">(</span><span class="va">movies_rated</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">genre_cleaned</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-3761c1ffcb370f354a4b" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-3761c1ffcb370f354a4b">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],["The Shawshank Redemption","The Dark Knight","Inception","Fight Club","Forrest Gump","Pulp Fiction","Interstellar","The Matrix","The Godfather","The Lord of the Rings: The Fellowship of the Ring","The Lord of the Rings: The Return of the King","The Dark Knight Rises","Se7en","The Lord of the Rings: The Two Towers","Django Unchained","Gladiator","The Wolf of Wall Street","Inglourious Basterds","Batman Begins","The Silence of the Lambs","Joker","Saving Private Ryan","Shutter Island","The Avengers","Schindler's List","Star Wars: Episode IV - A New Hope","The Prestige","The Departed","The Green Mile","Avatar","Star Wars: Episode V - The Empire Strikes Back","The Godfather Part II","Memento","Back to the Future","Titanic","Avengers: Endgame","Guardians of the Galaxy","Goodfellas","Léon: The Professional","Avengers: Infinity War","Pirates of the Caribbean: The Curse of the Black Pearl","The Truman Show","American Beauty","WALL·E","Kill Bill: Vol. 1","American History X","Terminator 2: Judgment Day","V for Vendetta","Deadpool","The Lion King"],[1994,2008,2010,1999,1994,1994,2014,1999,1972,2001,2003,2012,1995,2002,2012,2000,2013,2009,2005,1991,2019,1998,2010,2012,1993,1977,2006,2006,1999,2009,1980,1974,2000,1985,1997,2019,2014,1990,1994,2018,2003,1998,1999,2008,2003,1998,1991,2005,2016,1994],[2945751,2925905,2597971,2377837,2304002,2262167,2165652,2091672,2053222,2045570,2016145,1858963,1838395,1817835,1730816,1660131,1622068,1618812,1604762,1579660,1537839,1522834,1492447,1478575,1477696,1472325,1468308,1445911,1435472,1403666,1402795,1387798,1343297,1334579,1306333,1301251,1290579,1281919,1267534,1235511,1232094,1227988,1224982,1223089,1216992,1203427,1195570,1192855,1169993,1164571],[9.300000000000001,9,8.800000000000001,8.800000000000001,8.800000000000001,8.9,8.699999999999999,8.699999999999999,9.199999999999999,8.9,9,8.4,8.6,8.800000000000001,8.5,8.5,8.199999999999999,8.4,8.199999999999999,8.6,8.4,8.6,8.199999999999999,8,9,8.6,8.5,8.5,8.6,7.9,8.699999999999999,9,8.4,8.5,7.9,8.4,8,8.699999999999999,8.5,8.4,8.1,8.199999999999999,8.300000000000001,8.4,8.199999999999999,8.5,8.6,8.1,8,8.5]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>primaryTitle<\/th>\n      <th>startYear<\/th>\n      <th>numVotes<\/th>\n      <th>new_rating<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"pageLength":10,"lengthChange":false,"dom":"t","columnDefs":[{"className":"dt-right","targets":[2,3,4]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"primaryTitle","targets":1},{"name":"startYear","targets":2},{"name":"numVotes","targets":3},{"name":"new_rating","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<blockquote class="blockquote">
<p>2.Choose 3-5 movies with large numbers of IMDb votes that score poorly on your success metric and confirm that they are indeed of low quality.</p>
</blockquote>
<p>To identify movies with a large number of IMDb votes but poor performance on the success metric, I sorted the movies_rated dataset by descending order of numVotes and filtered for movies with a new_rating of less than 5. The following code selects the top 10 movies fitting this criterion and excludes the columns tconst and titleType:</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb56"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Sort by the new rating</span></span>
<span><span class="fu">table_creation</span><span class="op">(</span><span class="va">movies_rated</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">numVotes</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">new_rating</span><span class="op">&lt;</span><span class="fl">5</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span> <span class="op">-</span><span class="va">tconst</span>, <span class="op">-</span><span class="va">titleType</span>,<span class="op">-</span><span class="va">genre_cleaned</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-dd183ecacfb26dccb0c7" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-dd183ecacfb26dccb0c7">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5"],["Fifty Shades of Grey","The Twilight Saga: New Moon","Batman &amp; Robin","The Twilight Saga: Breaking Dawn - Part 1","After Earth"],[2015,2009,1997,2011,2013],[4.2,4.8,3.8,4.9,4.8],[340277,303830,271294,257608,210922],[4.2,4.8,3.8,4.9,4.8]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>primaryTitle<\/th>\n      <th>startYear<\/th>\n      <th>averageRating<\/th>\n      <th>numVotes<\/th>\n      <th>new_rating<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"pageLength":10,"lengthChange":false,"dom":"t","columnDefs":[{"className":"dt-right","targets":[2,3,4,5]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"primaryTitle","targets":1},{"name":"startYear","targets":2},{"name":"averageRating","targets":3},{"name":"numVotes","targets":4},{"name":"new_rating","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<blockquote class="blockquote">
<p>3.Choose a prestige actor or director and confirm that they have many projects with high scores on your success metric.</p>
</blockquote>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb57"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></span>
<span><span class="co"># Function to get user input and find their projects</span></span>
<span><span class="co">#name &lt;- readline(prompt = "Enter the actor or director name:")</span></span>
<span></span>
<span></span>
<span><span class="co"># Assuming `find_projects()` is a function that takes a name and returns a data frame of projects</span></span>
<span><span class="va">name</span><span class="op">=</span><span class="st">"Tom Hanks"</span></span>
<span><span class="va">projects1</span><span class="op">&lt;-</span><span class="fu">find_projects</span><span class="op">(</span><span class="va">name</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Select relevant columns</span></span>
<span><span class="va">projects1</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">primaryTitle</span>,<span class="va">new_rating</span>,<span class="va">numVotes</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">new_rating</span><span class="op">)</span>,<span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">numVotes</span><span class="op">)</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-ec564653786eb0901d5a" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ec564653786eb0901d5a">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173"],["Band of Brothers","Penny Marshall","Tom Hanks/Will Ferrell/Neil Young","The War","Forrest Gump","Crossroads","Spider","Presidency of Donald Trump","Saving Private Ryan","The Green Mile","From the Earth to the Moon","Currahee","The Sixties","Apollo One","Mare Tranquilitatis","Galileo Was Right","Dustin Hoffman: First in His Class","Toy Story","Toy Story 3","The Pacific","That's All There Is","The Eighties","The Seventies","Return with Honor","Catch Me If You Can","Can We Do This?","Tales from the Crypt","Horatio's Drive: America's First Road Trip","1968","Le voyage dans la lune","Bart's Birthday","The 67th Annual Tony Awards","The Road Not Taken: Part 1","Television Comes of Age","Toy Story 2","Stephen King: Fear, Fame and Fortune","The Making of 'Band of Brothers'","Shooting War: World War II Combat Cameramen","The Mayo Clinic, Faith, Hope and Science","Say Uncle","Cast Away","Captain Phillips","The Movies","For Miles and Miles","The Fugitive: Part 1","The Fugitive: Part 2","Very Important Pennis","Apollo 13","Road to Perdition","Toy Story 4","Philadelphia","Neil Young: Heart of Gold","Saturday Night Live: The Best of Christopher Walken","We Have Cleared the Tower","Bridge of Spies","Who Killed the Electric Car?","The Fabulous Allan Carr","The Directors","Saving Mr. Banks","A Man Called Otto","The Bloody Hundredth","David McCullough: Painting with Words","Shredded Plane","The Terminal","Cloud Atlas","Sully","Toy Story of Terror","Toy Story Toons: Partysaurus Rex","Everything Is Copy","The Extraordinary Voyage","The Original Wives Club","Mike Nichols","Big","Elvis","A League of Their Own","Capturing Captain Phillips","California Typewriter","The Post","A Beautiful Day in the Neighborhood","Toy Story Toons: Hawaiian Vacation","Stephen King: Shining in the Dark","Saturday Night Live: The Best of Tom Hanks","The Universal Story","Toy Story That Time Forgot","The 84th Annual Academy Awards","And the Oscar Goes to...","Defying the Nazis: The Sharps' War","We Interrupt This Program","Into the Breach: 'Saving Private Ryan'","AFI Life Achievement Award: A Tribute to Steven Spielberg","Freaky Tales","The Story Behind 'Toy Story'","Charlie Wilson's War","Greyhound","That Thing You Do!","Sergeant Bull/Friends and Lovers/Miss Mother","Toy Story Toons: Small Fry","Lost Moon: The Triumph of Apollo 13","The Making of 'Toy Story'","None But the Lonely Heart","The Making of 'Cast Away'","Extremely Loud &amp; Incredibly Close","Finch","Magnificent Desolation: Walking on the Moon","Through the Eyes of Forrest Gump","Radioman","Saturday Night Live: 15th Anniversary","'Saving Private Ryan': Boot Camp","Sleepless in Seattle","News of the World","The 'Burbs","Behind the Scenes: Cast Away","Bosom Buddies","Angels &amp; Demons","You've Got Mail","Where the Wild Things Are","Starter for 10","Killing Lincoln","Electric City","Toy Story 3: The Gang's All Here","The Da Vinci Code","The Polar Express","Borat Subsequent Moviefilm","My Big Fat Greek Wedding","A Little Case of Revenge","Walking the Mile","The Miracle of 'The Green Mile'","Christopher Reeve: A Celebration of Hope","Asteroid City","Fallen Angels","City of Ember","The Money Pit","Parkland","The Great Buck Howard","Making 'Saving Private Ryan'","The Making of 'Road to Perdition'","Miracles and Mystery: Creating 'the Green Mile'","Splash","Bachelor Party","Connie and Carla","The 83rd Annual Academy Awards","The David S. Pumpkins Halloween Special","'Catch Me If You Can': Behind the Camera","The Ladykillers","Turner &amp; Hooch","HBO First Look","AFI Life Achievement Award: A Tribute to Tom Hanks","I Am Your Child","Larry Crowne","A Hologram for the King","Dragnet","My Big Fat Greek Wedding 2","Joe Versus the Volcano","Punchline","Nothing in Common","'Saving Private Ryan': Re-Creating Omaha Beach","The Ant Bully","Every Time We Say Goodbye","The Man with One Red Shoe","The Bonfire of the Vanities","Freedom: A History of US","Volunteers","Ithaca","The Circle","A League of Their Own","My Big Fat Greek Wedding 3","Pinocchio","A Timeless Call","He Knows You're Alone","Tom Hanks: The Nomad","Mazes and Monsters","Tom Hanks: The Luckiest Man in the World","Harrison Ford"],[9.4,9.318,9.154999999999999,8.997,8.800000000000001,8.798,8.669,8.648,8.6,8.6,8.599,8.599,8.391,8.371,8.365,8.364000000000001,8.361000000000001,8.300000000000001,8.300000000000001,8.300000000000001,8.266999999999999,8.19,8.19,8.140000000000001,8.1,8.073,7.999,7.975,7.968,7.959,7.95,7.926,7.921,7.912,7.9,7.899,7.871,7.87,7.865,7.833,7.8,7.8,7.791,7.762,7.74,7.737,7.732,7.7,7.7,7.7,7.7,7.696,7.688,7.669,7.6,7.599,7.563,7.541,7.5,7.5,7.492,7.417,7.412,7.4,7.4,7.4,7.399,7.398,7.388,7.372,7.366,7.327,7.3,7.3,7.3,7.299,7.287,7.2,7.2,7.199,7.176,7.173,7.169,7.099,7.093,7.091,7.08,7.069,7.063,7.061,7.021,7.018,7,7,7,7,6.998,6.998,6.991,6.986,6.974,6.9,6.9,6.888,6.86,6.858,6.831,6.821,6.8,6.8,6.8,6.799,6.797,6.7,6.7,6.7,6.7,6.695,6.664,6.607,6.6,6.6,6.6,6.6,6.593,6.557,6.532,6.505,6.5,6.479,6.4,6.4,6.399,6.399,6.387,6.333,6.318,6.3,6.3,6.299,6.293,6.286,6.244,6.2,6.2,6.177,6.156,6.101,6.1,6.1,6,6,5.9,5.899,5.899,5.801,5.8,5.796,5.699,5.6,5.579,5.499,5.497,5.4,5.235,5.199,5.1,5.079,4.998,4.266,4.198,3.052,1.387],[541366,215,119,5775,2304002,9422,525,312,1522834,1435472,13446,12220,1681,537,449,437,113,1088156,906947,133300,468,1548,1528,256,1121832,571,27629,601,474,366,300,200,187,169,630031,147,504,492,424,219,649365,498845,1579,386,240,229,214,320193,287918,287539,261496,3329,1230,467,331073,12794,379,240,171307,170436,1701,166,158,502611,377132,303151,18100,8667,1159,494,403,186,244188,242420,123191,16736,1062,164496,90119,10457,108,499,102,13486,1979,1534,648,428,357,334,165,159,126134,118344,74834,130,8643,127,119,960,103,105673,99963,1032,322,304,184,161,193593,96838,85009,125,4734,312810,232707,109276,25425,2411,343,132,464300,245322,156293,146434,114,279,177,127,122068,569,70588,63348,17733,14833,104,173,142,84687,43102,8729,1655,847,207,109658,77340,487,258,113,71431,47980,37990,36251,40261,9385,8102,107,42344,2794,17113,27075,487,10709,3178,101662,146,10764,43052,439,4324,221,4408,107,138]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>primaryTitle<\/th>\n      <th>new_rating<\/th>\n      <th>numVotes<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"primaryTitle","targets":1},{"name":"new_rating","targets":2},{"name":"numVotes","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb58"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#|code-summary: "Show the code"</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span><span class="va">projects1</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">new_rating</span> <span class="op">&gt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">averageRating</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">genre_cleaned</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>count <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span>, .groups <span class="op">=</span> <span class="st">"drop"</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">genre_cleaned</span>, <span class="va">count</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">count</span>, fill <span class="op">=</span> <span class="va">genre_cleaned</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="st">"Genre"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Number of Movies per Genre"</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">"Genre"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span><span class="st">"Genres"</span>,values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Documentary"</span> <span class="op">=</span> <span class="st">"#1f77b4"</span>, <span class="st">"Comedy"</span> <span class="op">=</span> <span class="st">"#ff7f0e"</span>, </span>
<span>                               <span class="st">"Horror"</span> <span class="op">=</span> <span class="st">"#2ca02c"</span>, <span class="st">"Action"</span> <span class="op">=</span> <span class="st">"#d62728"</span>, </span>
<span>                               <span class="st">"Adventure"</span> <span class="op">=</span> <span class="st">"#9467bd"</span>, <span class="st">"Crime"</span> <span class="op">=</span> <span class="st">"#8c564b"</span>, </span>
<span>                               <span class="st">"Animation"</span> <span class="op">=</span> <span class="st">"#e377c2"</span>, <span class="st">"Drama"</span> <span class="op">=</span> <span class="st">"#7f7f7f"</span>, </span>
<span>                               <span class="st">"Romance"</span> <span class="op">=</span> <span class="st">"#bcbd22"</span>, <span class="st">"Sci-Fi"</span> <span class="op">=</span> <span class="st">"#17becf"</span>,</span>
<span>                               <span class="st">"Thriller"</span> <span class="op">=</span> <span class="st">"#1ae4e2"</span>, <span class="st">"Biography"</span> <span class="op">=</span> <span class="st">"#377eb8"</span>,</span>
<span>                               <span class="st">"Musical"</span> <span class="op">=</span> <span class="st">"#4daf4a"</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Tom Hank's Successful Projects \n Rating &gt; Median(Rating)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span></span>
<span>    legend.position <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>  <span class="co"># centers the title</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><img src="mp02_files/figure-html/successful_projects-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<blockquote class="blockquote">
<p>4.Perform at least one other form of ‘spot check’ validation.</p>
</blockquote>
<blockquote class="blockquote">
<p>5.Come up with a numerical threshold for a project to be a ‘success’; that is, determine a value such that movies above are all “solid” or better.</p>
</blockquote>
<p>The <code>Genres</code> column has multiple values, hence cleaning it a bit.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb59"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">ALL_TITLES</span><span class="op">$</span><span class="va">numVotes</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    100     178     380    4918    1189 2945751 </code></pre>
</div>
</div>
<p>The data appeared right-skewed, indicating that most movies had relatively low vote counts while a few received a significantly higher number of votes.</p>
<p>To better analyze the data, I arranged the <code>ALL_TITLES</code> dataset by both <code>numVotes</code> and <code>new_rating</code>. I then divided the dataset into four quantiles based on the <code>numVotes</code> using the <code>ntile function</code>. This categorization allows for better comparison among movies with varying vote counts.</p>
<p>I created a density plot using ggplot2 to visualize the distribution of new_rating across the different vote quantiles. This visual representation helps identify how ratings are distributed in relation to the number of votes, offering insight into which movies are considered “solid” based on their vote counts.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb61"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">ALL_TITLES</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">new_rating</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">vote_quantile</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Density of Ratings by Vote Quantile"</span>,</span>
<span>       x <span class="op">=</span> <span class="st">"Rating"</span>,</span>
<span>       fill <span class="op">=</span> <span class="st">"Vote Quantile"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><img src="mp02_files/figure-html/unnamed-chunk-52-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>I defined a success metric in the dataset by creating a new column, <code>success_metrics</code>. Movies are assigned a value of <code>1</code> if they fall into the<code>highest vote quantile (quantile 4) and have a new_rating greater than the median new_rating</code>. Otherwise, they are assigned a value of 0. This approach helps categorize movies as “successful” or “not successful” based on a combination of their rating and the number of votes they received.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb62"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ALL_TITLES</span> <span class="op">&lt;-</span> <span class="va">ALL_TITLES</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>success_metrics <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span><span class="op">(</span></span>
<span>    <span class="va">new_rating</span> <span class="op">&gt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">new_rating</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">vote_quantile</span><span class="op">==</span><span class="fl">4</span> <span class="op">~</span> <span class="fl">1</span>,</span>
<span>    <span class="cn">TRUE</span> <span class="op">~</span> <span class="fl">0</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span><span class="va">TITLE_EPISODES_2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb63"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html">sample_n</a></span><span class="op">(</span><span class="va">ALL_TITLES</span>,<span class="fl">100</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-048cbea82d4280b9cfac" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-048cbea82d4280b9cfac">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],["tt3278662","tt0070212","tt1280011","tt5639388","tt15060946","tt0359157","tt8253244","tt0161113","tt1566637","tt0831813","tt13254446","tt0599744","tt0026609","tt0510333","tt2214596","tt16913210","tt0083404","tt0330896","tt15404212","tt0516892","tt12552352","tt0037007","tt1296373","tt0394060","tt1555126","tt0056158","tt0702990","tt0894245","tt1376765","tt0099342","tt0418279","tt7766334","tt5134182","tt2734476","tt0600898","tt0088040","tt0940856","tt1256396","tt0071650","tt6488838","tt0065672","tt10327830","tt0450542","tt0111824","tt2124560","tt0109517","tt0137849","tt1457550","tt24438514","tt12696124","tt0107731","tt2630114","tt27351936","tt28245754","tt1352263","tt0103486","tt0880249","tt0120724","tt9098180","tt9397672","tt0122648","tt11318102","tt3001096","tt13361814","tt9351996","tt10915106","tt13183174","tt6209140","tt1259423","tt21371848","tt14111356","tt31944192","tt1415317","tt0982404","tt14482358","tt10175524","tt1343618","tt0235841","tt5291802","tt1302471","tt6015706","tt4778602","tt0907106","tt20125008","tt0050455","tt2105805","tt0023906","tt0656279","tt0230804","tt0274959","tt4259780","tt0047490","tt18949796","tt27504672","tt0389139","tt0025004","tt0115865","tt0118554","tt3760390","tt2929890"],["The Fog of Courage","The Iceman Cometh","No Impact Man: The Documentary","Raaz Reboot","Or at the High School Dance...","Dil Hai Betaab","A Horrifying Confession","Blood Reign: Curse of the Yoma","The Afflicted","Illusionist No-Face no Wana","Battle of the Gods","The Cave of Echoes","Last of the Pagans","Pursuit of Loneliness","Ralphie May: Too Big to Ignore","Rock, A Bye, Baby","Dai Sentai Goggle-V","Skin Deep","Mass Effect 3: From Ashes","Take Me to Your Leader","The White Fortress","The Last Ride","The FP","The Magic Shop","The Secret Diaries of Miss Anne Lister","Black Test Car","Pilot","Beautiful Sister Apprentices","Chô kangeki!! Dekita ze min'na no Genki-Dama","Daddy's Dyin'... Who's Got the Will?","Transformers","Love in Lapland","Morning Star","Bachelorette Party","The Amazing Kaz-Am/Puffylicious/Lights, Camera, Danger","The Holy Innocents","Burnout Revenge","Nothing Tastes Better Than Five Hundred Dollars","Ilsa: She Wolf of the SS","Episode #1.5","Dzieciol","For Life","Ventdelplà","The Zero Imperative","Mooncation/Mr. Krabs Takes a Vacation","Cyborg Cop","Guilty?","Film Flam","Katana vs. Chainsaw","Let the Great World Spin","Oh My Goddess!","Ring Up!","Sayen: Desert Road","Kade Dade Diyan Kade Pote Diyan","I Trust You But I Trust Me More","Mann &amp; Machine","My Boss, My Hero","Knock Off","No Fault","Shirley","Hardboiled Egg","Montu Pilot","The Show","Ik wist het","The Prisoner's Dilemma","Viriato","Amityville Horror House","Grasslands","Shourisha","A Decent Proposal","El viaje de tu vida","Allegiance","Everything Began on Board the Advena Avis","Arabasta no Eiyuu to Senjou no Ballerina","Ayer","The Door","Crimebusters","No Place to Go","Fit-and-Run","Itachi to Sasuke Toosugiru sonzai","China Salesman","Lusers, los amigos no se eligen","Aadi","Bol Chaal Band","Greedy for Tweety","Rap It Up","Convention City","Dying to Testify","Sonic Underground","Thodarum","Fantasmas","Sign of the Pagan","How Do I Fix This?","Idol","Malevolence","The Count of Monte Cristo","Changing Habits","Adam &amp; Eva","Desert Bus","In the Name of My Daughter"],["short","movie","movie","movie","tvEpisode","movie","tvEpisode","tvMiniSeries","movie","tvEpisode","movie","tvEpisode","movie","tvEpisode","tvSpecial","tvEpisode","tvSeries","movie","videoGame","tvEpisode","movie","movie","movie","tvEpisode","tvMovie","movie","tvEpisode","tvEpisode","tvEpisode","movie","movie","tvMovie","tvEpisode","tvEpisode","tvEpisode","movie","videoGame","tvEpisode","movie","tvEpisode","movie","tvSeries","tvSeries","tvEpisode","tvEpisode","movie","movie","tvEpisode","tvEpisode","tvEpisode","tvMiniSeries","tvEpisode","movie","movie","tvEpisode","tvSeries","tvMiniSeries","movie","tvEpisode","tvEpisode","movie","tvSeries","tvSeries","movie","tvEpisode","movie","tvEpisode","tvEpisode","tvEpisode","tvEpisode","tvEpisode","tvEpisode","tvEpisode","tvEpisode","tvEpisode","tvEpisode","tvEpisode","movie","tvEpisode","tvEpisode","movie","movie","movie","tvEpisode","short","tvEpisode","movie","tvEpisode","tvSeries","movie","short","movie","tvEpisode","tvEpisode","movie","movie","movie","movie","tvEpisode","movie"],["Animation","Drama","Documentary","Thriller","Comedy","Romance","Animation","Drama","Horror","Action","Adventure","Adventure","Drama","Comedy","Documentary","Drama","Adventure","Action","Sci-Fi","Crime","Drama","Drama","Drama","Crime","Biography","Crime","Adventure","Action","Action","Comedy","Sci-Fi","Romance","Action","Comedy","Comedy","Drama","Action","Adventure","Drama","Crime","Romance","Crime","Drama","Action","Comedy","Sci-Fi","Drama","Action","Adventure","Crime","Animation","Romance","Action","Horror","Adventure","Sci-Fi","Drama","Action","Drama","Biography","Comedy","Romance","Comedy","Comedy","Animation","Action","Drama","Documentary","Animation","Drama","Action","Adventure","Action","Adventure","Drama","Comedy","Crime","Drama","Crime","Animation","Thriller","Comedy","Romance","Drama","Comedy","Adventure","Romance","Drama","Adventure","Drama","Drama","Biography","Crime","Animation","Drama","Drama","Drama","Comedy","Action","Drama"],[2014,1973,2009,2016,2023,1993,2018,1989,2011,2000,2021,1996,1935,2000,2012,2022,1982,2003,2012,1969,2021,1944,2011,1964,2010,1962,2001,2002,1995,1990,2007,2017,2016,2013,2005,1984,2005,2008,1975,2017,1971,2020,2005,1994,2011,1993,1956,2001,2022,2022,1993,2013,2023,2023,2009,1992,2006,1998,2020,2020,1997,2019,2011,2022,2018,2019,2020,2016,1998,2022,2022,2024,2007,2001,2021,2019,2009,2000,2016,2005,2017,2015,2002,2022,1957,2011,1933,2001,1999,1999,2010,1954,2022,2023,2004,1934,1997,1997,2014,2014],[7.2,7.2,6.6,4.4,8.1,3.9,7.7,6.3,4.5,7.4,5.3,5.7,6,7.3,6.6,7.2,7.3,4.6,7.8,7.4,6.1,5.6,5.4,7.7,7,7.1,8.4,6.7,7.9,5.8,7.1,6,7.9,7.5,7.7,8.1,8.1,8.4,5.1,8,6.3,7.6,5.5,6.7,6.6,4.2,5.9,6.7,8.800000000000001,8.1,7.4,7.7,4.4,6.3,7.9,7.4,8.1,4.9,7.2,7.9,7.3,6.6,9,5.4,7.3,3.8,6.4,8.699999999999999,8.300000000000001,7.4,6.2,7.7,8.1,7.6,7.7,8.5,7.2,6.9,7.1,8.1,2.7,4.8,7.3,8.5,7.4,9,6.9,8,6,5.1,7.3,5.9,7.7,8.5,4.5,7.4,5.8,6.1,8.300000000000001,6.1],[305,1913,1590,2185,260,149,396,480,1514,207,477,354,211,175,267,432,111,167,120,191,210,293,1845,543,2286,665,2640,128,1265,886,683509,349,2670,1249,727,4852,768,247,8314,350,213,9526,161,103,343,1363,123,164,3243,4244,1288,3487,252,595,143,346,1748,16650,615,720,4062,679,956,318,222,131,241,2916,988,812,318,163,216,1122,115,149,260,891,195,860,2007,425,1698,1706,428,3555,106,104,3254,313,114,786,413,913,117,3329,374,3402,245,1893],[7.156,7.193,6.592,4.396,8.042,3.855,7.664,6.276,4.495,7.334,5.28,5.671,5.948,7.223,6.555,7.169,7.18,4.551,7.68,7.328,6.047,5.565,5.395,7.674,6.994,7.08,8.394,6.605,7.888,5.788,7.1,5.969,7.894,7.489,7.68,8.097,8.08,8.337,5.099,7.957,6.246,7.599,5.439,6.582,6.565,4.195,5.814,6.625,8.795,8.096,7.389,7.696,4.369,6.281,7.798,7.36,8.090999999999999,4.899,7.178,7.88,7.297,6.582,8.981999999999999,5.369,7.239,3.75,6.351,8.694000000000001,8.284000000000001,7.383,6.164,7.613,8.029999999999999,7.587,7.577,8.394,7.149,6.886,7.033,8.082000000000001,2.698,4.78,7.292,8.491,7.368,8.994999999999999,6.781,7.858,5.997,5.071,7.183,5.886,7.665,8.483000000000001,4.433,7.396,5.772,6.097,8.237,6.094],[2,4,4,4,2,1,3,3,4,2,3,2,2,1,2,3,1,1,1,2,2,2,4,3,4,3,4,1,4,3,4,2,4,4,3,4,3,2,4,2,2,4,1,1,2,4,1,1,4,4,4,4,2,3,1,2,4,4,3,3,4,3,3,2,2,1,2,4,3,3,2,1,2,3,1,1,2,3,2,3,4,3,4,4,3,4,1,1,4,2,1,3,3,3,1,4,2,4,2,4],[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>tconst<\/th>\n      <th>primaryTitle<\/th>\n      <th>titleType<\/th>\n      <th>genre_cleaned<\/th>\n      <th>startYear<\/th>\n      <th>averageRating<\/th>\n      <th>numVotes<\/th>\n      <th>new_rating<\/th>\n      <th>vote_quantile<\/th>\n      <th>success_metrics<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[5,6,7,8,9,10]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"tconst","targets":1},{"name":"primaryTitle","targets":2},{"name":"titleType","targets":3},{"name":"genre_cleaned","targets":4},{"name":"startYear","targets":5},{"name":"averageRating","targets":6},{"name":"numVotes","targets":7},{"name":"new_rating","targets":8},{"name":"vote_quantile","targets":9},{"name":"success_metrics","targets":10}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>###Examining Success by Genre and Decade</p>
<div class="callout callout-style-simple callout-none no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>####Task 4</p>
</div>
</div>
</div>
<blockquote class="blockquote">
<p>1.What was the genre with the most “successes” in each decade?</p>
</blockquote>
<p>I filtered the <code>ALL_TITLES</code> dataset to create a new dataset called <code>success_project</code>s, containing only the titles marked as successful (where <code>success_metrics equals 1</code>). This dataset was then prepared for further analysis. I also ensured the <code>startYear</code> column was numeric for accurate processing and examined a sample of successful projects.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb64"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">success_projects</span><span class="op">=</span><span class="va">ALL_TITLES</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">success_metrics</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span><span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>startYear <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">startYear</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html">sample_n</a></span><span class="op">(</span><span class="va">success_projects</span>,<span class="fl">100</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-fe8d43e1d3b4d9d6dfd6" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-fe8d43e1d3b4d9d6dfd6">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],["tt27739366","tt1683850","tt4668450","tt2011971","tt0708700","tt3243098","tt1599451","tt1681772","tt1640885","tt3513548","tt13063434","tt2818496","tt0095475","tt0705946","tt0094590","tt4462682","tt0858972","tt0289830","tt9121542","tt0583459","tt2386441","tt8361210","tt3158272","tt2640044","tt1159992","tt19407476","tt1909673","tt0708529","tt0583602","tt1891757","tt2192016","tt1562496","tt21351274","tt6472976","tt0394934","tt1442437","tt11757654","tt0039536","tt1245384","tt14342824","tt0070510","tt12843340","tt2505072","tt0104810","tt7368232","tt3076658","tt10946584","tt15047550","tt13334402","tt7183078","tt5109280","tt1256268","tt1685055","tt0134771","tt8422656","tt6162588","tt29269883","tt6723698","tt9348158","tt2386714","tt2076943","tt26595513","tt4064654","tt12526606","tt5351176","tt9805678","tt8638640","tt0735165","tt2325915","tt4176370","tt27418789","tt13848850","tt2105915","tt0072424","tt7293016","tt1612786","tt15210256","tt0062277","tt12731980","tt2275203","tt0142632","tt4174070","tt4849438","tt2416936","tt13247034","tt1074985","tt5905350","tt1605239","tt14325090","tt5537892","tt6268274","tt4082656","tt4183150","tt1627444","tt21994438","tt27542448","tt1635638","tt7542706","tt10293674","tt22265394"],["The Youth Memories","I Wish I Was the Moon","Sledgehammer","Monsieur Lazhar","Descent","Heirs","Wrapped Up in Death","Hello Bandit","The Hero","Richard Jewell","Yabba Dabba Do Me","The Awesomes","Damnation","My Future Self n' Me","Depeche Mode: 101","Rebecca","Kaihôsareta fûin","Taken","Chapter 6: The Prisoner","The One Where Monica Gets a Roommate","Hug Wolf","Guardian of Angels","Rock and a Hard Place","Masters of the Air","The Sontaran Stratagem","Bari","Strawberries and Cream: Part 2","Duet","The One with the Evil Orthodontist","Bol","The Dark Horse","The Third Man","Glasnost","Five Feet Apart","Dead Right","Modern Family","Heroes of Patience","Kiss of Death","Currahee","Judgment","Paper Moon","Find the Gap","The Red Road","Manufacturing Consent: Noam Chomsky and the Media","New Beginnings","Creed","You Can't Live Like This","The Cross","Agnès Varda","Fun &amp; Games","Raya and the Last Dragon","Seeing Red","Memories of Boom Boom Mountain","Black River","Leap","Brave and Beautiful","Scrambled Eggs","Opening","The Old Man and the Anomaly","The Poet's Fire","Super Mario 3D Land","Journey to the Dark Head","Smash the Mirror: Part 1","The Runaway Bridesmaid","The Circus: Inside the Greatest Political Show on Earth","Frozen Planet II","June","Just Like Buffalo","Poove Unakkaga","Guardians of the Galaxy","For Luffy - Sanji and Zoro's Oath","Uncle Jim and Aunt Susie in Duluth","To Be, Act 2","The Year Without a Santa Claus","The Murder of Laci Peterson","The Saboteur","Stephen Curry: Underrated","I Even Met Happy Gypsies","Old Henry","The Weekend Vortex","Mattie the Goose-Boy","Under Leaf Pluck Lotus","Baahubali 2: The Conclusion","Odisseia","Ek Crore Ka Suitcase","Mom for a Mammoth Baby","Alderamin on the Sky","Semaru kage","Episode #1.5","Psycho","Urban Transport Planning","The Things We Bury","Lift with Your Back","Our Children, Ourselves","Hasan Minhaj: The King's Jester","Take Care of Maya","Blood Brothers","threat of eXtinction","Miyagi-Do","The Queen's Umbrella"],["tvSeries","tvEpisode","tvEpisode","movie","tvEpisode","tvSeries","tvEpisode","tvEpisode","tvEpisode","movie","tvEpisode","tvSeries","movie","tvEpisode","movie","tvEpisode","tvEpisode","tvMiniSeries","tvEpisode","tvEpisode","tvEpisode","short","tvEpisode","tvMiniSeries","tvEpisode","movie","tvEpisode","tvEpisode","tvEpisode","movie","movie","tvEpisode","tvEpisode","movie","tvEpisode","tvSeries","tvEpisode","movie","tvEpisode","tvEpisode","movie","tvEpisode","tvSeries","movie","tvEpisode","movie","tvEpisode","tvEpisode","short","tvEpisode","movie","tvEpisode","tvEpisode","movie","tvEpisode","tvSeries","tvEpisode","tvEpisode","tvEpisode","tvEpisode","videoGame","tvEpisode","tvEpisode","tvEpisode","tvSeries","tvMiniSeries","movie","tvEpisode","movie","tvSeries","tvEpisode","tvEpisode","tvEpisode","tvMovie","tvSeries","videoGame","movie","movie","movie","tvEpisode","movie","tvEpisode","movie","tvSeries","tvEpisode","tvShort","tvSeries","tvEpisode","tvEpisode","tvEpisode","tvEpisode","tvEpisode","tvEpisode","tvEpisode","tvSpecial","movie","tvEpisode","tvEpisode","tvEpisode","tvSeries"],["Drama","Drama","Romance","Drama","Adventure","Romance","Comedy","Drama","Comedy","Drama","Drama","Animation","Drama","Animation","Documentary","Crime","Action","Sci-Fi","Adventure","Comedy","Action","Documentary","Horror","Drama","Sci-Fi","Action","Crime","Adventure","Romance","Drama","Drama","Comedy","Sci-Fi","Romance","Comedy","Comedy","Comedy","Drama","Drama","Action","Drama","Drama","Crime","Documentary","Drama","Drama","Crime","Drama","Documentary","Drama","Adventure","Crime","Adventure","Drama","Action","Drama","Crime","Action","Sci-Fi","Horror","Action","Adventure","Romance","Adventure","Documentary","Documentary","Drama","Comedy","Romance","Action","Animation","Comedy","Thriller","Comedy","Documentary","Adventure","Documentary","Drama","Action","Romance","Animation","Crime","Drama","Drama","Crime","Animation","Animation","Action","Drama","Comedy","Drama","Drama","Adventure","Romance","Documentary","Documentary","Drama","Drama","Comedy","Comedy"],[2023,2011,2015,2011,1993,2013,2010,2010,2011,2019,2021,2013,1988,2002,1989,2016,2003,2002,2019,1994,2012,2018,2013,2024,2008,2022,2011,1993,1995,2011,2014,2010,2023,2019,1990,2009,2021,1947,2001,2022,1973,2022,2014,1992,2019,2015,2020,2021,2020,2018,2021,2008,2010,1957,2019,2016,2024,2017,2019,2013,2011,2023,2014,2020,2016,2022,2019,2004,1996,2015,2023,2022,2011,1974,2017,2009,2023,1967,2021,2012,1977,2017,2017,2013,2020,1981,2016,2010,2021,2016,2018,2014,2014,2011,2022,2023,2010,2017,2021,2022],[8,8.1,8.1,7.5,8,7.5,7.9,8.1,8.6,7.5,8.199999999999999,7.2,7.6,8.6,8,8,8.300000000000001,7.8,8.300000000000001,8.1,7.2,7.3,7.8,7.8,7.4,8.199999999999999,9.5,9,7.7,8.199999999999999,7.4,8.199999999999999,7.7,7.2,7.3,8.5,8.300000000000001,7.4,8.6,9,8.1,7.9,7.3,8.1,7.4,7.6,7.6,8.1,8.4,8.800000000000001,7.3,7.7,7.7,7.2,8.5,7.7,7.5,8.5,8,7.5,8.199999999999999,7.8,8.4,8.6,7.3,9,7.4,8.4,8.6,7.3,8.5,7.3,9.1,7.7,7.3,7.9,7.3,7.7,7.3,8.1,8.199999999999999,7.5,8.199999999999999,8.699999999999999,9.199999999999999,7.8,7.4,8.1,7.9,7.3,8.199999999999999,8.5,8.1,7.7,7.6,7.8,8.199999999999999,8.1,9,8.5],[1852,1496,1460,21294,3164,14122,1359,5203,1700,99823,3142,1647,6938,3283,2141,13628,1332,21201,27842,10481,1760,2570,3801,54443,7123,1537,3586,3837,6161,9241,6638,1409,1380,86254,1592,497490,2048,9783,12220,45835,53466,1687,5825,4975,4453,315140,1424,1312,1662,2833,175767,1966,2372,1236,1885,11230,2100,19613,2303,1414,2250,2105,1595,1482,1361,2186,2277,1833,7165,3597,3229,1342,3258,11774,1495,1281,4469,2666,38761,3750,2319,3664,117949,2357,2045,1475,1325,1825,1202,1251,1486,3591,2579,2762,2378,10437,2109,1337,4875,2967],[7.992,8.09,8.09,7.499,7.995,7.499,7.889,8.097,8.59,7.5,8.195,7.192,7.598,8.595000000000001,7.993,7.999,8.288,7.799,8.298999999999999,8.099,7.192,7.295,7.796,7.8,7.398,8.19,9.494999999999999,8.996,7.698,8.198,7.398,8.189,7.69,7.2,7.291,8.5,8.292,7.399,8.599,9,8.1,7.891,7.298,8.097,7.397,7.6,7.59,8.087999999999999,8.391,8.794,7.3,7.693,7.694,7.189,8.492000000000001,7.699,7.493,8.499000000000001,7.993,7.49,8.193,7.793,8.390000000000001,8.589,7.29,8.992000000000001,7.394,8.391,8.598000000000001,7.296,8.494999999999999,7.29,9.095000000000001,7.699,7.291,7.888,7.297,7.695,7.3,8.096,8.193,7.496,8.199999999999999,8.693,9.191000000000001,7.79,7.39,8.092000000000001,7.888,7.289,8.19,8.496,8.093999999999999,7.695,7.594,7.799,8.193,8.089,8.997,8.494999999999999],[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>tconst<\/th>\n      <th>primaryTitle<\/th>\n      <th>titleType<\/th>\n      <th>genre_cleaned<\/th>\n      <th>startYear<\/th>\n      <th>averageRating<\/th>\n      <th>numVotes<\/th>\n      <th>new_rating<\/th>\n      <th>vote_quantile<\/th>\n      <th>success_metrics<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[5,6,7,8,9,10]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"tconst","targets":1},{"name":"primaryTitle","targets":2},{"name":"titleType","targets":3},{"name":"genre_cleaned","targets":4},{"name":"startYear","targets":5},{"name":"averageRating","targets":6},{"name":"numVotes","targets":7},{"name":"new_rating","targets":8},{"name":"vote_quantile","targets":9},{"name":"success_metrics","targets":10}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb65"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">success_projects</span><span class="op">$</span><span class="va">startYear</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   1878    2003    2013    2008    2018    2024 </code></pre>
</div>
</div>
<p>After summarizing the startYear, I removed any duplicate entries and filtered out projects with the genre “Others” to focus on distinct genres. A new column, <code>decade</code>, was created based on the <code>startYear</code>. This column categorizes the years into decades, allowing for easier analysis of trends over time.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb67"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">success_decade</span><span class="op">&lt;-</span><span class="va">success_projects</span><span class="op">|&gt;</span><span class="fu">identify_title</span><span class="op">(</span><span class="st">"movie"</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">startYear</span>,<span class="va">primaryTitle</span>,<span class="va">genre_cleaned</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">startYear</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">genre_cleaned</span><span class="op">!=</span><span class="st">"Others"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">success_decade</span> <span class="op">&lt;-</span> <span class="va">success_decade</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>decade <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span><span class="op">(</span></span>
<span>  <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">1940</span> <span class="op">~</span> <span class="st">"Before 1940"</span>,</span>
<span>  <span class="va">startYear</span> <span class="op">&gt;=</span> <span class="fl">1940</span> <span class="op">&amp;</span> <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">1950</span> <span class="op">~</span> <span class="st">"40's"</span>,</span>
<span>  <span class="va">startYear</span> <span class="op">&gt;=</span> <span class="fl">1950</span> <span class="op">&amp;</span> <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">1960</span> <span class="op">~</span> <span class="st">"50's"</span>,</span>
<span>  <span class="va">startYear</span> <span class="op">&gt;=</span> <span class="fl">1960</span> <span class="op">&amp;</span> <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">1970</span> <span class="op">~</span> <span class="st">"60's"</span>,</span>
<span>  <span class="va">startYear</span> <span class="op">&gt;=</span> <span class="fl">1970</span> <span class="op">&amp;</span> <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">1980</span> <span class="op">~</span> <span class="st">"70's"</span>,</span>
<span>  <span class="va">startYear</span> <span class="op">&gt;=</span> <span class="fl">1980</span> <span class="op">&amp;</span> <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">1990</span> <span class="op">~</span> <span class="st">"80's"</span>,</span>
<span>  <span class="va">startYear</span> <span class="op">&gt;=</span> <span class="fl">1990</span> <span class="op">&amp;</span> <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">2000</span> <span class="op">~</span> <span class="st">"90's"</span>,</span>
<span>  <span class="va">startYear</span> <span class="op">&gt;=</span> <span class="fl">2000</span> <span class="op">&amp;</span> <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">2010</span> <span class="op">~</span> <span class="st">"2000's"</span>,</span>
<span>  <span class="va">startYear</span> <span class="op">&gt;=</span> <span class="fl">2010</span> <span class="op">&amp;</span> <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">2020</span> <span class="op">~</span> <span class="st">"2010's"</span>,</span>
<span>  <span class="va">startYear</span> <span class="op">&gt;=</span> <span class="fl">2020</span> <span class="op">&amp;</span> <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">2030</span> <span class="op">~</span> <span class="st">"2020's"</span>,</span>
<span>  <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"N/A"</span></span>
<span><span class="op">)</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>decade <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">decade</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Before 1940"</span>, <span class="st">"40's"</span>, <span class="st">"50's"</span>, <span class="st">"60's"</span>, </span>
<span>                                            <span class="st">"70's"</span>, <span class="st">"80's"</span>, <span class="st">"90's"</span>, <span class="st">"2000's"</span>, </span>
<span>                                            <span class="st">"2010's"</span>, <span class="st">"2020's"</span>, <span class="st">"N/A"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The resulting cleaned dataset, <code>success_decade</code>, now contains distinct entries of successful movies with their corresponding start years and genres categorized by decade.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb68"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html">sample_n</a></span><span class="op">(</span><span class="va">success_decade</span>,<span class="fl">100</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-6d73f6ca56b8db0bb8a9" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-6d73f6ca56b8db0bb8a9">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],[2012,2010,2010,1988,2009,1975,1973,1920,2017,1966,1975,2015,2017,1982,1991,2017,1969,2000,1950,1927,2001,1986,2006,2010,1998,1972,1977,1926,2022,1944,2007,2002,2015,1993,1956,2024,2021,2023,2017,2014,2024,2002,2008,2017,2014,2009,1972,2014,1956,2021,2019,2006,2012,2005,2003,2022,2024,2019,2015,1958,1995,2007,1990,2000,2011,2009,1982,2017,2004,2010,1948,1979,1980,2003,1982,2018,2017,1937,1915,1966,2005,2012,1950,1964,1993,1988,2021,2013,2023,1989,2006,1983,2003,1936,2018,2012,1965,1994,2022,1998],["How to Make Money Selling Drugs","Joan Rivers: A Piece of Work","Tangled","Midnight Run","The Road","Dog Day Afternoon","Badlands","The Cabinet of Dr. Caligari","PSV Garuda Vega","Pharaoh","The Magic Flute","Ebar Shabor","Filmworker","Victor/Victoria","The Silence of the Lambs","Joan Didion: The Center Will Not Hold","True Grit","Dancer in the Dark","The Young and the Damned","Sunrise","The Lord of the Rings: The Fellowship of the Ring","The Green Ray","Still Life","The King's Speech","The Inheritors","The Godfather","Amar Akbar Anthony","A Page of Madness","Travelin' Band: Creedence Clearwater Revival at the Royal Albert Hall","Arsenic and Old Lace","Fracture","To Be and to Have","The Fear of 13","Patlabor 2: The Movie","The Mystery of Picasso","Footage","Miracle: Letters to the President","David Holmes: The Boy Who Lived","Blade Runner 2049","Life in a Fishbowl","Paarijathaparvam","War","Life After People","The Insult","The Equalizer","Fish Story","Lone Wolf and Cub: Sword of Vengeance","Who Am I","Bigger Than Life","Schumacher","For Sama","Pudhu Pettai","A Long Story","Naran","Boys","Har Har Mahadev","Harom Hara","Little Women","Indru Netru Naalai","Invention for Destruction","Hello Cinema","Big B","Tatar Ramazan","Snatch","The Parade","Law Abiding Citizen","Namak Halaal","Hey Arnold: The Jungle Movie","The Consequences of Love","71: Into the Fire","A Foreign Affair","An Ordinary Miracle","Moscow Does Not Believe in Tears","Tupac: Resurrection","An Egyptian Story","Soorma","Seeking True Love","Stella Dallas","Les Vampires","Django","Lovelorn","Pizza","The Sound of Fury","Zorba the Greek","The Remains of the Day","The Land Before Time","Rocky","The Butterfly's Dream","Nimona","Maine Pyar Kiya","Manufactured Landscapes","Pokrov Gates","My Life Without Me","Fury","Aravindha Sametha","How to Make Money Selling Drugs","A Thousand Clowns","Death and the Maiden","Rescued by Ruby","The Wounds"],["Documentary","Comedy","Animation","Crime","Thriller","Drama","Crime","Thriller","Action","Adventure","Comedy","Crime","Biography","Romance","Drama","Biography","Adventure","Crime","Drama","Drama","Drama","Romance","Drama","Biography","Drama","Drama","Drama","Drama","Documentary","Comedy","Crime","Documentary","Documentary","Drama","Documentary","Thriller","Drama","Documentary","Drama","Drama","Crime","Action","Sci-Fi","Drama","Crime","Comedy","Adventure","Drama","Drama","Documentary","Biography","Crime","Drama","Thriller","Comedy","Drama","Crime","Romance","Comedy","Adventure","Comedy","Thriller","Romance","Crime","Comedy","Action","Drama","Adventure","Drama","Action","Drama","Comedy","Comedy","Biography","Drama","Drama","Comedy","Drama","Crime","Action","Drama","Horror","Crime","Comedy","Drama","Adventure","Action","Drama","Adventure","Romance","Documentary","Musical","Romance","Crime","Drama","Crime","Comedy","Thriller","Biography","Crime"],["2010's","2010's","2010's","80's","2000's","70's","70's","Before 1940","2010's","60's","70's","2010's","2010's","80's","90's","2010's","60's","2000's","50's","Before 1940","2000's","80's","2000's","2010's","90's","70's","70's","Before 1940","2020's","40's","2000's","2000's","2010's","90's","50's","2020's","2020's","2020's","2010's","2010's","2020's","2000's","2000's","2010's","2010's","2000's","70's","2010's","50's","2020's","2010's","2000's","2010's","2000's","2000's","2020's","2020's","2010's","2010's","50's","90's","2000's","90's","2000's","2010's","2000's","80's","2010's","2000's","2010's","40's","70's","80's","2000's","80's","2010's","2010's","Before 1940","Before 1940","60's","2000's","2010's","50's","60's","90's","80's","2020's","2010's","2020's","80's","2000's","80's","2000's","Before 1940","2010's","2010's","60's","90's","2020's","90's"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>startYear<\/th>\n      <th>primaryTitle<\/th>\n      <th>genre_cleaned<\/th>\n      <th>decade<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":1},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"startYear","targets":1},{"name":"primaryTitle","targets":2},{"name":"genre_cleaned","targets":3},{"name":"decade","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb69"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">success_decade</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">decade</span>, <span class="va">genre_cleaned</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>genre_count <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span>, .groups <span class="op">=</span> <span class="st">"drop"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">genre_cleaned</span>,<span class="va">genre_count</span><span class="op">)</span>, y <span class="op">=</span><span class="va">genre_count</span>, fill <span class="op">=</span> <span class="va">genre_cleaned</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, position <span class="op">=</span> <span class="st">"dodge"</span><span class="op">)</span> <span class="op">+</span>   <span class="co"># Use bars for better visualization</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">decade</span>, scales <span class="op">=</span> <span class="st">"free_y"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="co"># Facet by decade to see trends   </span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span><span class="st">"Genres"</span>,values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Documentary"</span> <span class="op">=</span> <span class="st">"#1f77b4"</span>, <span class="st">"Comedy"</span> <span class="op">=</span> <span class="st">"#ff7f0e"</span>, </span>
<span>                               <span class="st">"Horror"</span> <span class="op">=</span> <span class="st">"#2ca02c"</span>, <span class="st">"Action"</span> <span class="op">=</span> <span class="st">"#d62728"</span>, </span>
<span>                               <span class="st">"Adventure"</span> <span class="op">=</span> <span class="st">"#9467bd"</span>, <span class="st">"Crime"</span> <span class="op">=</span> <span class="st">"#8c564b"</span>, </span>
<span>                               <span class="st">"Animation"</span> <span class="op">=</span> <span class="st">"#e377c2"</span>, <span class="st">"Drama"</span> <span class="op">=</span> <span class="st">"#7f7f7f"</span>, </span>
<span>                               <span class="st">"Romance"</span> <span class="op">=</span> <span class="st">"#bcbd22"</span>, <span class="st">"Sci-Fi"</span> <span class="op">=</span> <span class="st">"#17becf"</span>,</span>
<span>                               <span class="st">"Thriller"</span> <span class="op">=</span> <span class="st">"#1ae4e2"</span>, <span class="st">"Biography"</span> <span class="op">=</span> <span class="st">"#377eb8"</span>,</span>
<span>                               <span class="st">"Musical"</span> <span class="op">=</span> <span class="st">"#4daf4a"</span><span class="op">)</span><span class="op">)</span><span class="op">+</span> <span class="co">#              # Use a color-blind-friendly palette</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Number of Movies by Genre Across Decades"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Number of Movies"</span>, </span>
<span>       x <span class="op">=</span> <span class="st">"Decade"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">90</span>, hjust <span class="op">=</span> <span class="fl">1</span>,size <span class="op">=</span> <span class="fl">6</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><img src="mp02_files/figure-html/No of Movies Based on Genres-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">success_decade</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">decade</span>, <span class="va">genre_cleaned</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>genre_count <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span>, .groups <span class="op">=</span> <span class="st">"drop"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">decade</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice_max</a></span><span class="op">(</span><span class="va">genre_count</span>, n <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 3
# Groups:   decade [10]
   decade      genre_cleaned genre_count
   &lt;fct&gt;       &lt;chr&gt;               &lt;int&gt;
 1 Before 1940 Drama                 230
 2 40's        Drama                 238
 3 50's        Drama                 348
 4 60's        Drama                 461
 5 70's        Drama                 457
 6 80's        Drama                 516
 7 90's        Drama                 742
 8 2000's      Drama                1163
 9 2010's      Drama                1508
10 2020's      Drama                 663</code></pre>
</div>
</div>
<p>It is <code>Drama</code> category is been the most successes in all decades.</p>
<blockquote class="blockquote">
<p>2.What genre consistently has the most “successes”? What genre used to reliably produced “successes” and has fallen out of favor?</p>
</blockquote>
<p>To analyze the trends in movie genres over time regarding their success, we can examine the average ratings by genre for each decade. This will help us identify which genre has consistently had the most successes and which genre has fallen out of favor over the years.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb72"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ALL_TITLES</span> <span class="op">&lt;-</span> <span class="va">ALL_TITLES</span><span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>decade <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span><span class="op">(</span></span>
<span>  <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">1940</span> <span class="op">~</span> <span class="st">"Before 1940"</span>,</span>
<span>  <span class="va">startYear</span> <span class="op">&gt;=</span> <span class="fl">1940</span> <span class="op">&amp;</span> <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">1950</span> <span class="op">~</span> <span class="st">"40's"</span>,</span>
<span>  <span class="va">startYear</span> <span class="op">&gt;=</span> <span class="fl">1950</span> <span class="op">&amp;</span> <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">1960</span> <span class="op">~</span> <span class="st">"50's"</span>,</span>
<span>  <span class="va">startYear</span> <span class="op">&gt;=</span> <span class="fl">1960</span> <span class="op">&amp;</span> <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">1970</span> <span class="op">~</span> <span class="st">"60's"</span>,</span>
<span>  <span class="va">startYear</span> <span class="op">&gt;=</span> <span class="fl">1970</span> <span class="op">&amp;</span> <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">1980</span> <span class="op">~</span> <span class="st">"70's"</span>,</span>
<span>  <span class="va">startYear</span> <span class="op">&gt;=</span> <span class="fl">1980</span> <span class="op">&amp;</span> <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">1990</span> <span class="op">~</span> <span class="st">"80's"</span>,</span>
<span>  <span class="va">startYear</span> <span class="op">&gt;=</span> <span class="fl">1990</span> <span class="op">&amp;</span> <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">2000</span> <span class="op">~</span> <span class="st">"90's"</span>,</span>
<span>  <span class="va">startYear</span> <span class="op">&gt;=</span> <span class="fl">2000</span> <span class="op">&amp;</span> <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">2010</span> <span class="op">~</span> <span class="st">"2000's"</span>,</span>
<span>  <span class="va">startYear</span> <span class="op">&gt;=</span> <span class="fl">2010</span> <span class="op">&amp;</span> <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">2020</span> <span class="op">~</span> <span class="st">"2010's"</span>,</span>
<span>  <span class="va">startYear</span> <span class="op">&gt;=</span> <span class="fl">2020</span> <span class="op">&amp;</span> <span class="va">startYear</span> <span class="op">&lt;</span> <span class="fl">2030</span> <span class="op">~</span> <span class="st">"2020's"</span>,</span>
<span>  <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"unknown"</span></span>
<span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>decade <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">decade</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Before 1940"</span>, <span class="st">"40's"</span>, <span class="st">"50's"</span>, <span class="st">"60's"</span>, </span>
<span>                                            <span class="st">"70's"</span>, <span class="st">"80's"</span>, <span class="st">"90's"</span>, <span class="st">"2000's"</span>, </span>
<span>                                            <span class="st">"2010's"</span>, <span class="st">"2020's"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span><span class="va">ALL_MOVIES</span><span class="op">&lt;-</span><span class="va">ALL_TITLES</span><span class="op">|&gt;</span></span>
<span>  <span class="fu">identify_title</span><span class="op">(</span><span class="st">"movie"</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">startYear</span>,<span class="va">decade</span>,<span class="va">primaryTitle</span>,<span class="va">genre_cleaned</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">startYear</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">genre_cleaned</span><span class="op">!=</span><span class="st">"Others"</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">ALL_TITLES</span><span class="op">|&gt;</span></span>
<span>                <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">startYear</span>,<span class="va">primaryTitle</span>,<span class="va">genre_cleaned</span>,<span class="va">new_rating</span>,<span class="va">success_metrics</span>,<span class="va">numVotes</span><span class="op">)</span>,</span>
<span>                by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"startYear"</span><span class="op">=</span><span class="st">"startYear"</span>,</span>
<span><span class="st">"primaryTitle"</span><span class="op">=</span><span class="st">"primaryTitle"</span>,<span class="st">"genre_cleaned"</span><span class="op">=</span><span class="st">"genre_cleaned"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>I then created a new dataset, <code>ALL_MOVIES</code>, which consists of movie titles along with their respective genres, start years, and ratings.</p>
<p>I calculated the <code>average rating for each genre per decade</code> and <code>filtered out the 2020s</code> to focus on earlier trends. This summary provides insight into how each genre performed over the decades.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb73"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Calculate average rating per genre per decade</span></span>
<span><span class="va">ALL_MOVIES</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">genre_cleaned</span>, <span class="va">decade</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>Average_Rating <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">new_rating</span><span class="op">)</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">decade</span><span class="op">!=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2020's"</span><span class="op">)</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html">na.omit</a></span><span class="op">(</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  </span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">decade</span>, y <span class="op">=</span> <span class="va">Average_Rating</span>, color <span class="op">=</span> <span class="va">decade</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>group <span class="op">=</span> <span class="va">genre_cleaned</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">genre_cleaned</span>, scales <span class="op">=</span> <span class="st">"free_y"</span><span class="op">)</span> <span class="op">+</span>  <span class="co"># Facet by genre</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Average Movie Rating by Genre and Decade"</span>,</span>
<span>       x <span class="op">=</span> <span class="st">"Decade"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Average Rating"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">90</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><img src="mp02_files/figure-html/unnamed-chunk-62-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><code>Documentry</code>,<code>Biography</code> and <code>Animation</code> genres consistently produce movies with higher average ratings, typically above 6.5./ On the other hand, <code>Sci-fi</code>,<code>Horror</code>,<code>Thriller</code> present higher risks in terms of audience reception and ratings.These genres were particularly popular in the 1940s and 1950s, a time when they captivated audiences with imaginative storytelling and thrilling experiences. However, over the decades, the landscape of cinema has evolved, and audiences’ tastes have shifted./</p>
<p>Throughout the decades, Drama has emerged as a dominant genre, enjoying sustained popularity across various eras. However, recent trends indicate that the audience’s appetite for dramatic storytelling may be waning.</p>
<blockquote class="blockquote">
<p>3.What genre has produced the most “successes” since 2010? Does it have the highest success rate or does it only have a large number of successes because there are many productions in that genre?</p>
</blockquote>
<p>The analysis reveals the total number of successes for each genre within the specified time frame. By grouping the data by genre_cleaned and success_metrics, we determined how many projects in each genre were classified as successful (success_metrics = 1) compared to non-successful (success_metrics = 0).</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb74"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Load necessary library for text annotations</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://scales.r-lib.org">scales</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate percentages within each genre for success_metrics</span></span>
<span><span class="va">x</span><span class="op">&lt;-</span><span class="va">ALL_MOVIES</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">decade</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2010's"</span>, <span class="st">"2020's"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">genre_cleaned</span>, <span class="va">success_metrics</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>count <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>total <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span>,  <span class="co"># Total per genre</span></span>
<span>         percentage <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="op">(</span><span class="va">count</span> <span class="op">/</span> <span class="va">total</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">x</span><span class="op">|&gt;</span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-ca15c65e9c90e65eef9e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ca15c65e9c90e65eef9e">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26"],["Action","Action","Adventure","Adventure","Animation","Animation","Biography","Biography","Comedy","Comedy","Crime","Crime","Documentary","Documentary","Drama","Drama","Horror","Horror","Musical","Musical","Romance","Romance","Sci-Fi","Sci-Fi","Thriller","Thriller"],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],[7620,605,4000,333,1748,239,2705,520,17519,802,5963,528,7838,863,28940,2330,7875,80,501,43,7929,446,2240,65,9683,400],[8225,8225,4333,4333,1987,1987,3225,3225,18321,18321,6491,6491,8701,8701,31270,31270,7955,7955,544,544,8375,8375,2305,2305,10083,10083],[92.64,7.36,92.31,7.69,87.97,12.03,83.88,16.12,95.62,4.38,91.87,8.130000000000001,90.08,9.92,92.55,7.45,98.98999999999999,1.01,92.09999999999999,7.9,94.67,5.33,97.18000000000001,2.82,96.03,3.97]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>genre_cleaned<\/th>\n      <th>success_metrics<\/th>\n      <th>count<\/th>\n      <th>total<\/th>\n      <th>percentage<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"genre_cleaned","targets":1},{"name":"success_metrics","targets":2},{"name":"count","targets":3},{"name":"total","targets":4},{"name":"percentage","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb75"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Create the plot</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">genre_cleaned</span>,<span class="va">total</span><span class="op">)</span>, y<span class="op">=</span><span class="va">total</span>,fill<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">success_metrics</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, position <span class="op">=</span> <span class="st">"stack"</span><span class="op">)</span> <span class="op">+</span>  <span class="co"># Bars are dodged side-by-side for success_metrics</span></span>
<span>                <span class="co"># Add percentage labels on top of bars</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Total number of sucessful genre for 2010's and 2020's"</span>,</span>
<span>       x <span class="op">=</span> <span class="st">"Genre"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Total Number of Movies"</span>,</span>
<span>       fill <span class="op">=</span> <span class="st">"Success"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span> hjust <span class="op">=</span> <span class="fl">1</span>,angle<span class="op">=</span><span class="fl">90</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><img src="mp02_files/figure-html/unnamed-chunk-64-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>At a glance, the analysis indicates that the <code>Drama</code> genre has produced the most successful projects since 2010, followed closely by <code>Comedy</code> and <code>Thriller</code>. However, when we examine the success rate by considering the ratio of successful projects to the total number of projects within each genre, the results shift significantly.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb76"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Create the plot</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">x</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">success_metrics</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">genre_cleaned</span>,<span class="va">percentage</span><span class="op">)</span>, y<span class="op">=</span><span class="va">percentage</span>,fill<span class="op">=</span><span class="va">genre_cleaned</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, position <span class="op">=</span> <span class="st">"dodge"</span><span class="op">)</span> <span class="op">+</span>  <span class="co"># Bars are dodged side-by-side for success_metrics</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">percentage</span>, <span class="fl">1</span><span class="op">)</span>, <span class="st">"%"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_dodge.html">position_dodge</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span>, vjust <span class="op">=</span> <span class="op">-</span><span class="fl">0.1</span><span class="op">)</span> <span class="op">+</span>  <span class="co"># Add percentage labels on top of bars</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Percentage of sucessful genre for 2010's and 2020's"</span>,</span>
<span>       x <span class="op">=</span> <span class="st">"Genre"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Percentage of successful movies(%)"</span>,</span>
<span>       fill <span class="op">=</span> <span class="st">"Genre"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span><span class="st">"Genres"</span>,values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Romance"</span> <span class="op">=</span> <span class="st">"#1f77b4"</span>, <span class="st">"Comedy"</span> <span class="op">=</span> <span class="st">"#ff7f0e"</span>, </span>
<span>                               <span class="st">"Horror"</span> <span class="op">=</span> <span class="st">"#2ca02c"</span>, <span class="st">"Action"</span> <span class="op">=</span> <span class="st">"#d62728"</span>, </span>
<span>                               <span class="st">"Adventure"</span> <span class="op">=</span> <span class="st">"#9467bd"</span>, <span class="st">"Crime"</span> <span class="op">=</span> <span class="st">"#8c564b"</span>, </span>
<span>                               <span class="st">"Animation"</span> <span class="op">=</span> <span class="st">"#e377c2"</span>, <span class="st">"Drama"</span> <span class="op">=</span> <span class="st">"#7f7f7f"</span>, </span>
<span>                               <span class="st">"Documentary"</span> <span class="op">=</span> <span class="st">"#bcbd22"</span>, <span class="st">"Sci-Fi"</span> <span class="op">=</span> <span class="st">"#17becf"</span>,</span>
<span>                               <span class="st">"Thriller"</span> <span class="op">=</span> <span class="st">"#1ae4e2"</span>, <span class="st">"Biography"</span> <span class="op">=</span> <span class="st">"#377eb8"</span>,</span>
<span>                               <span class="st">"Musical"</span> <span class="op">=</span> <span class="st">"#4daf4a"</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><img src="mp02_files/figure-html/unnamed-chunk-65-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><code>Biography</code>, <code>Animation</code>, and <code>Documentary</code> genres emerge as the leaders in terms of success metrics when we look at the proportion of successful films. The disparity between the total number of successful projects in <code>Drama</code>, <code>Comedy</code>, and <code>Thriller</code> versus the success rates in <code>Biography</code>, <code>Animation</code>, and <code>Documentary</code> indicates that while traditional genres like Drama may produce a higher volume of successful films, newer or less conventional genres are achieving a greater proportion of success relative to their output. This suggests that these genres are not only producing fewer films but are also prioritizing quality and engagement, leading to better ratings and audience reception.</p>
<blockquote class="blockquote">
<p>4.What genre has become more popular in recent years?</p>
</blockquote>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb77"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="st"><a href="https://gganimate.com">"gganimate"</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"gganimate"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://gganimate.com">gganimate</a></span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="st"><a href="https://scales.r-lib.org">"scales"</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"scales"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://scales.r-lib.org">scales</a></span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="st"><a href="https://zoo.R-Forge.R-project.org/">"zoo"</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"zoo"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://zoo.R-Forge.R-project.org/">zoo</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb78"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">years</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">1950</span>, to <span class="op">=</span> <span class="fl">2020</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">years_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>startYear <span class="op">=</span> <span class="va">years</span><span class="op">)</span></span>
<span><span class="va">ALL_MOVIES</span><span class="op">&lt;-</span><span class="va">ALL_MOVIES</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>startYear<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">startYear</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ALL_MOVIES_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">full_join</a></span><span class="op">(</span><span class="va">ALL_MOVIES</span><span class="op">|&gt;</span><span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">startYear</span><span class="op">&gt;</span><span class="fl">1950</span><span class="op">)</span>, <span class="va">years_df</span>, by <span class="op">=</span> <span class="st">"startYear"</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/replace_na.html">replace_na</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>column_name <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb79"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ALL_MOVIES_1</span><span class="op">$</span><span class="va">startYear</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/zoo/man/na.approx.html">na.approx</a></span><span class="op">(</span><span class="va">ALL_MOVIES_1</span><span class="op">$</span><span class="va">startYear</span><span class="op">)</span>  </span>
<span><span class="va">anim</span> <span class="op">&lt;-</span> <span class="va">ALL_MOVIES_1</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">startYear</span> <span class="op">&gt;</span> <span class="fl">1950</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span> <span class="va">new_rating</span>, y<span class="op">=</span> <span class="va">numVotes</span>, color <span class="op">=</span> <span class="va">genre_cleaned</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_log10</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/comma.html">comma</a></span><span class="op">)</span> <span class="op">+</span>  <span class="co"># Log scale for y-axis</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_log10</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/comma.html">comma</a></span><span class="op">)</span> <span class="op">+</span>  <span class="co"># Log scale for x-axis</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html">guides</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"none"</span>, size <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span>  <span class="co"># Remove legends for color and size</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>  <span class="co"># Use a clean white background theme</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">genre_cleaned</span><span class="op">)</span> <span class="op">+</span>  <span class="co"># Facet by genre_cleaned</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Number of Votes"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Ratings"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://gganimate.com/reference/transition_time.html">transition_time</a></span><span class="op">(</span><span class="va">startYear</span><span class="op">)</span> <span class="op">+</span>  <span class="co"># Animate by rounded years</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"NumVotes Vs Ratings by Year in {round(frame_time,0)}"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>caption <span class="op">=</span> <span class="st">"Data from the IMDB DataSet"</span><span class="op">)</span></span>
<span></span>
<span> <span class="fu"><a href="https://gganimate.com/reference/animate.html">animate</a></span><span class="op">(</span><span class="va">anim</span>, renderer <span class="op">=</span> <span class="fu"><a href="https://gganimate.com/reference/renderers.html">gifski_renderer</a></span><span class="op">(</span>file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">output_dir</span>, <span class="st">"/animation1.gif"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><img src="mp02_files/figure-html/unnamed-chunk-69-1.gif" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>From this graph, we could identify that <code>Dramas</code>,<code>Comedy</code>,<code>Action</code>,<code>Adventure</code>, <code>Crime</code> have been always popular. However, there is a good amount attention being given for <code>Biography</code> and <code>Animations</code> in recent years.</p>
</section><section id="vi.successful-personnel-in-the-genre" class="level3"><h3 class="anchored" data-anchor-id="vi.successful-personnel-in-the-genre">VI.Successful Personnel in the Genre</h3>
<p>Based on my findings I have decided to combine <code>Biography</code> Genre and <code>Animation</code>.</p>
<p>We focus on the <code>Biography</code> genre to identify high-quality films. The process begins by filtering the <code>ALL_TITLES</code> dataset to select only movies categorized under the <code>Biography</code> genre. The distinct function is used to ensure that each movie is represented only once in the resulting dataset.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb80"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">bio_anime_movies</span><span class="op">&lt;-</span><span class="va">ALL_TITLES</span><span class="op">|&gt;</span><span class="fu">identify_title</span><span class="op">(</span><span class="st">"movie"</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span> <span class="va">genre_cleaned</span><span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Biography"</span>,<span class="st">"Animation"</span><span class="op">)</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">bio_anime_movies</span> <span class="op">&lt;-</span> <span class="va">bio_anime_movies</span> <span class="op">|&gt;</span><span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">vote_quantile</span><span class="op">&gt;</span><span class="fl">3</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">averageRating</span>,<span class="op">-</span><span class="va">startYear</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">ALL_CREW</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">primaryName</span><span class="op">)</span><span class="op">)</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"tconst"</span> <span class="op">=</span> <span class="st">"tconst"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html">sample_n</a></span><span class="op">(</span><span class="va">bio_anime_movies</span>,<span class="fl">100</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-69b5c6881129dabf2108" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-69b5c6881129dabf2108">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],["tt4729560","tt1885281","tt1244754","tt0120514","tt0120788","tt4986134","tt1261900","tt1777551","tt13651628","tt0962762","tt1579361","tt1754177","tt0079116","tt15095938","tt4826674","tt20221690","tt9358228","tt2769896","tt2358456","tt5463172","tt0142371","tt3477554","tt12971802","tt0190861","tt7148264","tt0416508","tt5923962","tt7349662","tt6986710","tt6237208","tt0915457","tt15467380","tt0072424","tt1277953","tt0085390","tt0443536","tt3183630","tt8635092","tt1148261","tt2655788","tt0112792","tt0177267","tt2630134","tt1559036","tt0089877","tt5208252","tt5790684","tt1703048","tt4669252","tt1865505","tt5220122","tt1832489","tt0412080","tt1629374","tt6293516","tt0318590","tt19864942","tt0070608","tt3800894","tt0817910","tt0816671","tt1119194","tt0107065","tt0100873","tt0066327","tt0076591","tt4669296","tt0111640","tt5938950","tt0810784","tt0266425","tt2247476","tt2133333","tt0066730","tt6452574","tt5286444","tt0103671","tt0229664","tt0466664","tt0163494","tt0460505","tt0112681","tt1653911","tt0205782","tt27470893","tt6173902","tt3719896","tt0378284","tt0377992","tt0345177","tt31122323","tt0098692","tt1864405","tt1608516","tt0077687","tt6212478","tt0486321","tt0493076","tt3538766","tt0061852"],["The Little Vampire 3D","Klitschko","Conviction","Wilde","Permanent Midnight","Rebel in the Rye","Lovecraft: Fear of the Unknown","Bobby Fischer Against the World","Belle","Genius Party","Chasing Ice","Mardock Scramble: The First Compression","Escape from Alcatraz","Blood Brothers: Malcolm X &amp; Muhammad Ali","The Journey","Woody Woodpecker Goes to Camp","Untouchable","Louis &amp; Luca and the Snow Machine","I Am Big Bird: The Caroll Spinney Story","Standing in the Dust","Fist of the North Star","The Snow Queen 2","Lucy and Desi","Vatel","The Final Game","Becoming Jane","Gantz: O","BlacKkKlansman","The Accidental Prime Minister","From Straight A's to XXX","Falco - Verdammt, wir leben noch!","That Time I Got Reincarnated as a Slime the Movie: Scarlet Bond","The Year Without a Santa Claus","Madagascar 3: Europe's Most Wanted","Daffy Duck's Movie: Fantastic Island","Hoodwinked!","The Boy and the World","Everybody's Talking About Jamie","Bleach the Movie 2: The DiamondDust Rebellion","11.6","Dangerous Minds","Superman: The Last Son of Krypton","Barbie in the Pink Shoes","The Motel Life","Rainbow Brite and the Star Stealer","Operation Finale","Mia and Me: The Hero of Centopia","Naruto Shippûden: The Lost Tower","Georgetown","Song of the Sea","Hotel Transylvania 3: Summer Vacation","Family Guy 100th Episode Special","The World's Fastest Indian","Ronal the Barbarian","Bingo: The King of the Mornings","Cazuza: Time Doesn't Stop","Ae Watan Mere Watan","Robin Hood","Cristiano Ronaldo: World at His Feet","Hellboy Animated: Blood and Iron","Teen Titans: Trouble in Tokyo","The Perfect World of Kai","Gypsy","Vincent &amp; Theo","Santa Claus Is Comin' to Town","Race for Your Life, Charlie Brown","Lords of Chaos","Just Desserts","Mystify: Michael Hutchence","Bright Star","Conspiracy","When the Game Stands Tall","The Color of Time","10 Rillington Place","Sanju","Neerja","American Me","Princes and Princesses","Alien Autopsy","Space Adventure Cobra","The Rocket","Citizen X","Mozart's Sister","Boss of Bosses","Chandu Champion","Hulk: Where Monsters Dwell","My All-American","Machuca","The Gospel of John","Ek Doctor Ki Maut","Megamind vs. The Doom Syndicate","Wicked City","Low Down","Run Boy Run","The Hobbit","American Animals","Fly Me to the Moon 3D","Nina","Messi","The Jungle Book"],["movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","tvMovie","movie","movie","tvMovie","movie","movie","movie","movie","movie","movie","movie","movie","tvMovie","movie","movie","movie","movie","movie","movie","movie","movie","movie","tvMovie","movie","movie","movie","movie","movie","movie","movie","tvMovie","tvMovie","movie","tvMovie","movie","tvMovie","movie","movie","movie","movie","movie","tvMovie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","tvMovie","movie","tvMovie","movie","movie","movie","movie","movie","movie","movie","movie","movie","movie","tvMovie","movie","movie","movie","movie","movie"],["Animation","Biography","Biography","Biography","Biography","Biography","Biography","Biography","Animation","Animation","Biography","Animation","Biography","Biography","Biography","Animation","Biography","Animation","Biography","Biography","Animation","Animation","Biography","Biography","Biography","Biography","Animation","Biography","Biography","Biography","Biography","Animation","Animation","Animation","Animation","Animation","Animation","Biography","Animation","Biography","Biography","Animation","Animation","Animation","Animation","Biography","Animation","Animation","Biography","Animation","Animation","Animation","Biography","Animation","Biography","Biography","Biography","Animation","Biography","Animation","Animation","Animation","Biography","Biography","Animation","Animation","Biography","Animation","Biography","Biography","Biography","Biography","Biography","Biography","Biography","Biography","Biography","Animation","Biography","Animation","Biography","Biography","Biography","Biography","Biography","Animation","Biography","Biography","Biography","Biography","Animation","Animation","Biography","Biography","Animation","Biography","Animation","Biography","Biography","Animation"],[2004,2931,46567,18335,8052,10954,2106,7439,17919,1722,8897,1618,149842,1233,2107,2239,3253,2106,1719,2352,7398,2533,3121,8321,1267,65833,17007,295966,8231,1865,1522,2090,11774,201956,2224,67380,7681,7831,3565,2617,57897,3282,2380,3825,1441,49770,1342,4529,6300,64045,88306,2017,60052,14046,5978,4287,1315,141283,2269,4359,6954,1779,2220,4244,17692,3993,20105,3627,2736,28956,25774,17085,1588,10008,62610,23966,10733,2450,7731,2395,5474,23444,1624,1494,31204,1477,8284,12772,4290,1592,4932,10086,2238,2871,16713,50130,4823,3091,4417,201676],[5.495,7.695,7.2,6.899,6.199,6.699,7.194,7.398,7.099,6.893,7.698,6.393,7.6,6.89,6.694,4.496,6.696,6.794,7.492,6.795,7.098,5.796,7.695,6.599,6.59,7,7.099,7.5,5.999,5.195,6.792,6.894,7.699,6.8,6.994,6.5,7.498,6.498,6.996,5.696,6.5,7.596,5.696,5.897,6.791,6.6,5.992,6.797,6.198,8,6.3,7.293,7.8,6.499,7.898,6.897,4.694,7.5,6.395,6.597,6.998,7.093,7.194,6.897,7.699,7.197,6.599,5.397,7.295,6.9,7.599,6.599,4.095,7.499,7.6,7.599,7.099,7.594,5.899,7.194,7.597,7.399,6.393,6.392,7.9,5.393,7.198,7.699,7.797,8.289999999999999,2.399,6.699,6.095,7.195,6.699,7,4.498,5.397,7.097,7.6],[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[0,1,1,0,0,0,1,1,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,1,1,0,1,0,0,1,0,0,0,0,1,0,1,1,0,0,1,0,1,0,0,1,1,1,0,1,0,1,1,1,0,0,1,0,1,1,1,1,0,0,0,1,0,0,0,0,0,1],["2010's","2010's","2010's","90's","90's","2010's","2000's","2010's","2020's","2000's","2010's","2010's","70's","2020's","2010's","2020's","2010's","2010's","2010's","2010's","80's","2010's","2020's","2000's","2020's","2000's","2010's","2010's","2010's","2010's","2000's","2020's","70's","2010's","80's","2000's","2010's","2020's","2000's","2010's","90's","90's","2010's","2010's","80's","2010's","2020's","2010's","2010's","2010's","2010's","2000's","2000's","2010's","2010's","2000's","2020's","70's","2010's","2000's","2000's","2000's","90's","90's","70's","70's","2010's","90's","2010's","2000's","2000's","2010's","2010's","70's","2010's","2010's","90's","2000's","2000's","80's","2000's","90's","2010's","2000's","2020's","2010's","2010's","2000's","2000's","90's","2020's","80's","2010's","2010's","70's","2010's","2000's","2010's","2010's","60's"],["nm0165290","nm3167269","nm1312197","nm0000179","nm0798889","nm0442090","nm0868219","nm1648139","nm4384370","nm0913860","nm2420356","nm0052445","nm0876227","nm0101940","nm5009883","nm0487237","nm1247584","nm3185890","nm0324397","nm7751837","nm0945514","nm5479297","nm0036109","nm0005709","nm2293451","nm0000342","nm8579661","nm0932551","nm0746424","nm3200304","nm2206537","nm9956891","nm0790071","nm2593444","nm0321454","nm0004266","nm0994245","nm0408591","nm0410907","nm0755389","nm0171123","nm0001520","nm4734344","nm0747742","nm1095808","nm2443797","nm1979385","nm0879486","nm0998489","nm0448587","nm0000114","nm1113591","nm0746392","nm1020344","nm0998809","nm0921348","nm1431656","nm0365201","nm6588980","nm0004757","nm1208498","nm2070684","nm0000541","nm0674695","nm0858885","nm0776433","nm0191412","nm0845609","nm1062242","nm0086865","nm0003552","nm0517872","nm1324730","nm0511723","nm5817249","nm2218801","nm0199733","nm0498921","nm0574128","nm1500897","nm0001163","nm0050303","nm3905232","nm0023130","nm4598003","nm0498278","nm1587729","nm1134987","nm0440511","nm0438488","nm3091777","nm0411060","nm0543383","nm1268619","nm0612239","nm1717925","nm2191612","nm0431520","nm0502098","nm0697515"],["Richard Claus","Chris Byrd","Paul Schnee","Jude Law","Cara Silverman","Avy Kaufman","Guillermo del Toro","Bobby Fischer","David Jesteadt","Shin'ichirô Watanabe","Davis Coombe","Marcy Bannor","Richard Tuggle","Todd Boyd","Matt Jackson","Walter Lantz","Mark Gill","Are Austnes","Dave Goelz","Habib Khazaeifar","Yuriko Yamamoto","Aleksey Likhnitskiy","Lucie Arnaz","Robert Fraisse","Cristian Valencia","James Cromwell","Meng Hee Wee","Kevin Willmott","Paul Rowan","Jenna Romanin","Patricia Aulitzky","Riko Fukumoto","Dick Shawn","Alejandro Bien-Willner","Robert Givens","Anne Hathaway","Alê Abreu","Ralph Ineson","Akira Ishida","Agnès de Sacy","Lisa Coleman","Christopher McDonald","S.T. Sivaraman","Ann Ruark","Yutaka Chikura","Lior Raz","Adam Gunn","Yumi Tôma","David Reale","Jon Kenny","Steve Buscemi","Kirker Butler","Diana Rowan","Per Risager","Raul Barretto","Sandra Werneck","Emraan Hashmi","Phil Harris","Craig Hamilton-Parker","Selma Blair","Linda Steiner","Hiroyuki Amano","Bette Midler","Jean-François Perrier","Greg Thomas","Charles M. Schulz","Rory Culkin","Hilmi Sözer","Mark Fennessy","Claudie Blakley","Stephen Goldblatt","Michael Lohmann","Omar Zúñiga","Leslie Linder","Vicky Kaushal","Aparna Sud","Sean Daniel","Dominique Lefever","Anthony McPartlin","Haruya Yamazaki","Roy Dupuis","Géza Balkay","Clovis Fouin","Angela Alvarado","Aniruddh Dave","Stan Lee","Finn Wittrock","Alejandro González","Daniel Kash","Pankaj Kapur","Josh Brener","Kinichi Ishikawa","Taryn Manning","Daniel Gottschalk","Romeo Muller","Bart Layton","David Gore","Ella Joyce","Luci Lenox","Louis Prima"],["tt0134305,tt0906778,tt1189008,tt1846526","tt1885281,tt0439096,tt1589035,tt1310365","tt1895587,tt1399683,tt3631112,tt1454029","tt0134119,tt0376541,tt2278388,tt0346156","tt0101540,tt1001508,tt0435679,tt1512235","tt0388795,tt0406375,tt1034415,tt0365737","tt0457430,tt0167190,tt1488589,tt5580390","tt0084177,tt0044270,tt0052514,tt0170980","tt5198068,tt0388473,tt2321405,tt9426210","tt0275277,tt0213338,tt0328832,tt8107988","tt6333052,tt6333054,tt11464826,tt2140371","tt0095327,tt0433498,tt3957232,tt4616700","tt0079116,tt0088272,tt0091706,tt0096708","tt0161100,tt2013260,tt27337680,tt0167055","tt1070874,tt4209788,tt10418662,tt1855199","tt0025332,tt0142655,tt0016971,tt0142073","tt8080204,tt3014866,tt1197624,tt1772264","tt11545166,tt22148456,tt32368112,tt32368272","tt0085017,tt0074028,tt1204342,tt0117110","tt6229252,tt7897348,tt5463172,tt18926886","tt0142371,tt0091211,tt0084881,tt0161952","tt14273830,tt23723526,tt2649152,tt3477554","tt0080948,tt0062570,tt0469152,tt4995540","tt0215750,tt0364970,tt0122690,tt0426883","tt4441280,tt4857264,tt0469247,tt6500354","tt0119488,tt0120689,tt0144214,tt0117731","tt5923962,tt3830194,tt1753496,tt26249116","tt7349662,tt9777644,tt4594834,tt0389828","tt7518786,tt8130968,tt5316648,tt3632432","tt2188671,tt3501584,tt4378456,tt4532368","tt0915457,tt7645474,tt5713908,tt0805613","tt21115444,tt10228546,tt10385034,tt33452952","tt0057193,tt0063462,tt0086896,tt0118688","tt0892791,tt1277953,tt0460655,tt0406438","tt0075480,tt16150204,tt0060029,tt0057763","tt1707386,tt1345836,tt1084950,tt0758752","tt14817802,tt0204305,tt3183630,tt3709042","tt4263482,tt9243804,tt11858890,tt6412452","tt0409591,tt0988818,tt0169858,tt0923811","tt14976386,tt1245771,tt32103879,tt8058904","tt0813715,tt1190689,tt0112792,tt5595688","tt0103074,tt0110932,tt0116483,tt1582453","tt7737528,tt6710836,tt11584674,tt2630134","tt1164999,tt1321860,tt5929754,tt1567609","tt0316540,tt0084564,tt0161122,tt0084881","tt4565380,tt9073940,tt8106534,tt5208252","tt5790684,tt9165404,tt6601082,tt1818912","tt0249008,tt0272880,tt0454955,tt0361140","tt0328733,tt1352824,tt4209788,tt1104806","tt11813216,tt0119683,tt5198068,tt0111958","tt0116282,tt0162346,tt0105236,tt4686844","tt11691774,tt0182576,tt3305096,tt2182229","tt0190865,tt0086993,tt0412080,tt0107822","tt1871731,tt0386820,tt5459566,tt1629374","tt2027178,tt3637900,tt0458074,tt6293516","tt0119878,tt0275915,tt0318590,tt1513914","tt1395054,tt1954206,tt18411490,tt1918965","tt0070608,tt0061852,tt0065421,tt0102802","tt7819316,tt3800894,tt5348858,tt10098498","tt0139134,tt0167190,tt0253867,tt0411477","tt0398417,tt0275137,tt0376390,tt0343314","tt1458565,tt11656584,tt6821870,tt1446151","tt0094715,tt0116313,tt0107120,tt0091877","tt0101700,tt1298644,tt0103203,tt0090235","tt0118882,tt0206113,tt12494574,tt0066327","tt2452042,tt0068359,tt0084996,tt0174220","tt0286106,tt0377091,tt0203230,tt1262416","tt0880605,tt0291943,tt0278815,tt1224153","tt13696378,tt5938950,tt0350396,tt3150144","tt0414387,tt0280707,tt0464196,tt0810784","tt1454029,tt0376541,tt0318997,tt5034266","tt10774460,tt7608248,tt7695916,tt2281375","tt9187214,tt4433560,tt2133333,tt22098694","tt0047229,tt0067727,tt0066730,tt0064400","tt8291224,tt6452574,tt10280296,tt7098658","tt5286444,tt19868804,tt13529034,tt0422091","tt0120616,tt2345759,tt0119395,tt2638144","tt0286244,tt0107778,tt0298911,tt0095606","tt0314331,tt0324692,tt0338616,tt1034201","tt0079833,tt0163494,tt0262177,tt0159928","tt0118379,tt0472562,tt0114367,tt0460505","tt0095963,tt0307552,tt0249241,tt0097875","tt2311532,tt6015706,tt3194744,tt5687334","tt0284490,tt0160184,tt4154916,tt0463998","tt11260832,tt27470893,tt18920258,tt5328326","tt1825683,tt1211837,tt2250912,tt3896198","tt1844624,tt1809398,tt1596363,tt3719896","tt0378284,tt2098737,tt0101923","tt0090605,tt0848557,tt1234721,tt2023587","tt0379370,tt0292829,tt0083987,tt0290820","tt2575988,tt3581920,tt8879940,tt13016388","tt0088028,tt0098692,tt0096633,tt0185481","tt2372162,tt0410097,tt0298203,tt0275022","tt3522806,tt0399095,tt28228001,tt1608516","tt0089984,tt0074013,tt0077687,tt0088631","tt6212478,tt1966604,tt1020109,tt24132732","tt1282140,tt1189346,tt0486321,tt1235099","tt0117603,tt2070862,tt0281686,tt0101184","tt4226388,tt9059350,tt4873118,tt8290362","tt0061852,tt7097896,tt0112641,tt3640424"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>tconst<\/th>\n      <th>primaryTitle<\/th>\n      <th>titleType<\/th>\n      <th>genre_cleaned<\/th>\n      <th>numVotes<\/th>\n      <th>new_rating<\/th>\n      <th>vote_quantile<\/th>\n      <th>success_metrics<\/th>\n      <th>decade<\/th>\n      <th>nconst<\/th>\n      <th>primaryName<\/th>\n      <th>knownForTitles<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[5,6,7,8]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"tconst","targets":1},{"name":"primaryTitle","targets":2},{"name":"titleType","targets":3},{"name":"genre_cleaned","targets":4},{"name":"numVotes","targets":5},{"name":"new_rating","targets":6},{"name":"vote_quantile","targets":7},{"name":"success_metrics","targets":8},{"name":"decade","targets":9},{"name":"nconst","targets":10},{"name":"primaryName","targets":11},{"name":"knownForTitles","targets":12}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<section id="task-5" class="level4"><h4 class="anchored" data-anchor-id="task-5">Task 5:</h4>
<blockquote class="blockquote">
<p>Identify (at least) two actors and one director who you will target as the key talent for your movie. Write a short “pitch” as to why they are likely to be successful. You should support your pitch with at least one graphic and one table.</p>
</blockquote>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb81"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">bio_anime_movies</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">primaryName</span>,<span class="va">primaryTitle</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">primaryName</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>count<span class="op">=</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># A tibble: 41,171 × 2
   primaryName        count
   &lt;chr&gt;              &lt;int&gt;
 1 Mary Hidalgo          45
 2 Megumi Hayashibara    44
 3 Takeshi Seyama        37
 4 Leslee Feldman        36
 5 Ikue Ôtani            35
 6 Avy Kaufman           33
 7 Ruth Lambert          32
 8 Kappei Yamaguchi      31
 9 Mary Vernieu          31
10 Minami Takayama       30
# ℹ 41,161 more rows</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb83"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">find_projects</span><span class="op">(</span><span class="st">"Mary Hidalgo"</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu">identify_title</span><span class="op">(</span><span class="st">"movie"</span><span class="op">)</span><span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>is_animation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">genre_cleaned</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Animation"</span>,<span class="st">"Biography"</span><span class="op">)</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">new_rating</span>,<span class="va">numVotes</span>,<span class="va">is_animation</span>,<span class="va">genre_cleaned</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">new_rating</span>, y <span class="op">=</span> <span class="va">genre_cleaned</span>, color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">is_animation</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>  <span class="co"># Adjust shape for filled points</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Mary Hidalgo's Movies Rating Based on Genres"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Ratings"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Genre"</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"Is_Animation"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><img src="mp02_files/figure-html/unnamed-chunk-72-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb84"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">find_projects</span><span class="op">(</span><span class="st">"Mary Hidalgo"</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu">identify_title</span><span class="op">(</span><span class="st">"movie"</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">titleType</span>,<span class="op">-</span><span class="va">tconst</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">success_metrics</span><span class="op">==</span><span class="fl">1</span>,<span class="va">genre_cleaned</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Biography"</span>,<span class="st">"Animation"</span><span class="op">)</span><span class="op">)</span><span class="op">|&gt;</span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-b9b55e4a64b83a07d130" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-b9b55e4a64b83a07d130">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16"],["Transformers One","Guillermo del Toro's Pinocchio","The Mitchells vs. the Machines","Treasure Planet","The Lego Batman Movie","Lilo &amp; Stitch","The Emperor's New Groove","Tarzan","A Bug's Life","The Lego Movie","Spider-Man: Across the Spider-Verse","Toy Story 2","Spider-Man: Into the Spider-Verse","The Incredibles","Monsters, Inc.","Finding Nemo"],["Animation","Animation","Animation","Animation","Animation","Animation","Animation","Animation","Animation","Animation","Animation","Animation","Animation","Animation","Animation","Animation"],[2024,2022,2021,2002,2017,2002,2000,1999,1998,2014,2023,1999,2018,2004,2001,2003],[7.8,7.6,7.6,7.2,7.3,7.3,7.4,7.3,7.2,7.7,8.6,7.9,8.4,8,8.1,8.199999999999999],[9803,116185,130183,136165,176849,216744,230434,252046,319556,394204,404359,630031,693722,827369,998820,1131197],[7.799,7.6,7.6,7.2,7.3,7.3,7.4,7.3,7.2,7.7,8.6,7.9,8.4,8,8.1,8.199999999999999],[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],["2020's","2020's","2020's","2000's","2010's","2000's","2000's","90's","90's","2010's","2020's","90's","2010's","2000's","2000's","2000's"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>primaryTitle<\/th>\n      <th>genre_cleaned<\/th>\n      <th>startYear<\/th>\n      <th>averageRating<\/th>\n      <th>numVotes<\/th>\n      <th>new_rating<\/th>\n      <th>vote_quantile<\/th>\n      <th>success_metrics<\/th>\n      <th>decade<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[3,4,5,6,7,8]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"primaryTitle","targets":1},{"name":"genre_cleaned","targets":2},{"name":"startYear","targets":3},{"name":"averageRating","targets":4},{"name":"numVotes","targets":5},{"name":"new_rating","targets":6},{"name":"vote_quantile","targets":7},{"name":"success_metrics","targets":8},{"name":"decade","targets":9}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>She has a lot of box office hits.</p>
<p>Now I am trying to find actor for my movie.</p>
<pre><code>#| label: 'Biography Movies Actor'
#| eval: true
#| message: false 
#| warning: false
#| cache: false
#| code-fold: true
#|code-summary: "Show the code"

bio_anime_movies&lt;-bio_anime_movies|&gt;left_join(TITLE_PRINCIPALS1|&gt;select(nconst,category)|&gt;filter(!is.na(category)),by=c("nconst"="nconst"))|&gt;distinct()


bio_anime_movies|&gt;group_by(primaryName,category)|&gt;
summarize(count=n(),.groups="drop")|&gt;arrange(desc(count))|&gt;filter(category %in% c("actor","director","actress"))|&gt;
  slice(1:100)|&gt;DT::datatable()
#write.csv(bio_anime_movies, "~/STA9750-2024-FALL/bio_anime_movies.csv",row.names=TRUE,col.names = TRUE )</code></pre>
<pre><code>find_projects("Brian Grazer")|&gt;identify_title("movie")|&gt; mutate(is_biography = ifelse(genre_cleaned == "Biography", 1, 0))|&gt;select(new_rating,numVotes,is_biography,genre_cleaned)|&gt;
  ggplot(aes(x = new_rating, y = genre_cleaned,color=as.factor(is_biography))) +
 geom_boxplot() +  # Adjust shape for filled points
  labs(
    title = "Brian Grazer's Movies Ratings Based on Genres",
    x = "Ratings",
    y = "Genre",
    color = "Is_Biography"
  ) +
  
  theme_minimal() +
  theme(legend.position = "bottom")
  </code></pre>
<pre><code>find_projects("Robert") |&gt;
  identify_title("movie") |&gt;
  mutate(is_biography = ifelse(genre_cleaned == "Biography", "Biography", "Others")) |&gt;
  select(startYear, numVotes, new_rating, is_biography) |&gt;
  ggplot(aes(x = startYear, y = new_rating, fill = as.factor(is_biography), size = numVotes)) +
  geom_point(shape = 21, color = "black") +  # Shape 21 allows for point fill with color border
  labs(
    title = "Brian Grazer's Movies Ratings Yearly based on Genre",
    x = "Year",
    y = "New Rating",
    fill = "Is Biography",
    size="Num of Votes"
  ) +
  scale_fill_manual(values = c("Others" = "gray", "Biography" = "blue")) +  # Correct color mapping
  theme_minimal() +
  theme(
    legend.position = "bottom",
    panel.border = element_rect(color = "black", fill = NA, size = 1)  # Add black borders
  ) + 
  facet_wrap(~is_biography)
</code></pre>
<pre><code>#| label: 'Biography Movies Actoress'
#| eval: true
#| message: false 
#| warning: false
#| cache: false
#| code-fold: true
#|code-summary: "Show the code"



bio_anime_movies|&gt;group_by(primaryName,category,decade)|&gt;
summarize(count=n(),.groups="drop",ratings=mean(new_rating))|&gt;arrange(desc(decade),desc(count),desc(ratings))|&gt;filter(category=="actress")|&gt;
  #category %in% c("actor","director","actress"))|&gt;
  slice(1:30)|&gt;DT::datatable()</code></pre>
<pre><code>find_projects("Sobhita Dhulipala") |&gt;
  identify_title("movie") |&gt;
  mutate(is_biography = ifelse(genre_cleaned == "Biography", "Biography", "Others"))|&gt;  select(startYear, numVotes, new_rating, is_biography)|&gt;
  ggplot(aes(x = startYear, y = new_rating, fill = as.factor(is_biography), size = numVotes)) +
  geom_point(shape = 21, color = "black") +  # Shape 21 allows for point fill with color border
  labs(
    title = "Sobhita Dhulipala's Movies Ratings Yearly based on Genre",
    x = "Year",
    y = "New Rating",
    fill = "Is Biography",
    size="Num of Votes"
  ) +
  scale_fill_manual(values = c("Others" = "gray", "Biography" = "blue")) +  # Correct color mapping
  theme_minimal() +
  theme(
    legend.position = "bottom",
    panel.border = element_rect(color = "black", fill = NA, size = 1)  # Add black borders
  ) + 
  facet_wrap(~is_biography)
</code></pre>
</section></section><section id="vii.nostalgia-and-remakes" class="level3"><h3 class="anchored" data-anchor-id="vii.nostalgia-and-remakes">VII.Nostalgia and Remakes</h3>
</section><section id="viii.putting-it-together" class="level3"><h3 class="anchored" data-anchor-id="viii.putting-it-together">VIII.Putting It Together</h3>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/clintavarghese\.github\.io\/STA9750-2024-FALL\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>